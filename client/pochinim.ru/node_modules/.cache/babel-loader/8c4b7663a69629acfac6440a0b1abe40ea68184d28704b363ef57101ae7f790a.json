{"ast":null,"code":"import{Fragment,useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import'../SignUpAsMaster/SignUpAsMaster.css';import MasterFIOEnter from\"./phases/FIOEnter\";import MasterOccupationEnter from\"./phases/OccupationEnter\";import MasterLocationEnter from\"./phases/LocationEnter\";import MasterEmailEnter from\"./phases/EmailEnter\";import MasterPhotoEnter from\"./phases/PhotoEnter\";import MasterPasswordEnter from\"./phases/PasswordEnter\";import Loader from'../Loader/Loader';import userController from'../../controllers/USER-controller';import masterController from'../../controllers/MASTER-controller';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SignUpMaster=()=>{const[step,setStep]=useState(0);const[fio,setFio]=useState([\"\",\"\",\"\"]);const[occupation,setOccupation]=useState(\"\");const[workingFrom,setWorkingFrom]=useState(0);const[location,setLocation]=useState(\"\");const[selectedOptionsLocation,setSelectedOptionsLocation]=useState(null);const[email,setEmail]=useState(\"\");const[codeConf,setcodeConf]=useState(false);const[photo,setPhoto]=useState(null);const[password,setPassword]=useState(\"\");const[code,setcode]=useState(\"\");const[sendCode,setSendCode]=useState(\"\");const[showLoader,setShowLoader]=useState(false);const navigate=useNavigate();const comps=[/*#__PURE__*/_jsx(MasterFIOEnter,{fio:fio,setFio:setFio}),/*#__PURE__*/_jsx(MasterOccupationEnter,{occupation:occupation,setOccupation:setOccupation}),/*#__PURE__*/_jsx(MasterLocationEnter,{workingFrom:workingFrom,setWorkingFrom:setWorkingFrom,location:location,setLocation:setLocation,selectedOptionsLocation:selectedOptionsLocation,setSelectedOptionsLocation:setSelectedOptionsLocation}),/*#__PURE__*/_jsx(MasterEmailEnter,{email:email,setEmail:setEmail,codeConf:codeConf,setCodeConf:setcodeConf,code:code,setCode:setcode,sendCode:sendCode,setSendCode:setSendCode}),/*#__PURE__*/_jsx(MasterPhotoEnter,{photo:photo,setPhoto:setPhoto,FIO:fio}),/*#__PURE__*/_jsx(MasterPasswordEnter,{password:password,setPassword:setPassword})];const move=async incr=>{const ntStep=step+incr;switch(step){case 0:if(fio[0]!=\"\"&&fio[1]!=\"\"){setStep(ntStep);}break;case 1:if(occupation!=\"\"){setStep(ntStep);}break;case 2:if(workingFrom!=0&&(location!=\"\"||selectedOptionsLocation!=null)){setStep(ntStep);}break;case 3:if(email!=\"\"&&code!=\"\"){if(code==sendCode){setStep(ntStep);setcodeConf(false);}}break;case 4:if(photo!=null){setStep(ntStep);}break;case 5:if(password!=\"\"){await masterController.registrate(fio,occupation,workingFrom,location,selectedOptionsLocation,email,photo,password);setStep(ntStep);}break;default:navigate('/');break;}};useEffect(()=>{},[step]);return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"SignUpMaster\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inner-SignUpMaster\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"go-back-button\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"back-icon\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>move(-1),className:\"back-button\",children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"phases-wrapper\",children:[comps[step],/*#__PURE__*/_jsx(\"button\",{onClick:()=>move(1),className:\"continue-button\",children:\"\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u044C\"})]})]})}),/*#__PURE__*/_jsx(Loader,{showLoader:showLoader,setShowLoader:setShowLoader,text:\"Проверяем код\"})]});};export default SignUpMaster;","map":{"version":3,"names":["Fragment","useEffect","useState","useNavigate","MasterFIOEnter","MasterOccupationEnter","MasterLocationEnter","MasterEmailEnter","MasterPhotoEnter","MasterPasswordEnter","Loader","userController","masterController","jsx","_jsx","jsxs","_jsxs","SignUpMaster","step","setStep","fio","setFio","occupation","setOccupation","workingFrom","setWorkingFrom","location","setLocation","selectedOptionsLocation","setSelectedOptionsLocation","email","setEmail","codeConf","setcodeConf","photo","setPhoto","password","setPassword","code","setcode","sendCode","setSendCode","showLoader","setShowLoader","navigate","comps","setCodeConf","setCode","FIO","move","incr","ntStep","registrate","children","className","onClick","text"],"sources":["C:/Users/denis/vs_code/Pochinim.ru/client/pochinim.ru/src/components/SignUpAsMaster/SignUpAsMaster.js"],"sourcesContent":["import { Fragment, useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom'\r\nimport '../SignUpAsMaster/SignUpAsMaster.css';\r\nimport MasterFIOEnter from \"./phases/FIOEnter\";\r\nimport MasterOccupationEnter from \"./phases/OccupationEnter\";\r\nimport MasterLocationEnter from \"./phases/LocationEnter\";\r\nimport MasterEmailEnter from \"./phases/EmailEnter\";\r\nimport MasterPhotoEnter from \"./phases/PhotoEnter\";\r\nimport MasterPasswordEnter from \"./phases/PasswordEnter\";\r\nimport Loader from '../Loader/Loader';\r\nimport userController from '../../controllers/USER-controller';\r\nimport masterController from '../../controllers/MASTER-controller';\r\n\r\nconst SignUpMaster = () => {\r\n\r\n    const [step, setStep] = useState(0);\r\n\r\n    const [fio, setFio] = useState([\"\", \"\", \"\"]);\r\n    const [occupation, setOccupation] = useState(\"\");\r\n    const [workingFrom, setWorkingFrom] = useState(0);\r\n    const [location, setLocation] = useState(\"\");\r\n    const [selectedOptionsLocation, setSelectedOptionsLocation] = useState(null);\r\n    const [email, setEmail] = useState(\"\");\r\n    const [codeConf, setcodeConf] = useState(false);\r\n    const [photo, setPhoto] = useState(null);\r\n    const [password, setPassword] = useState(\"\");\r\n    const [code, setcode] = useState(\"\");\r\n    const [sendCode, setSendCode] = useState(\"\");\r\n\r\n    const [showLoader, setShowLoader] = useState(false);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const comps = [<MasterFIOEnter fio={fio} setFio={setFio}></MasterFIOEnter>, \r\n\r\n                    <MasterOccupationEnter occupation={occupation} setOccupation={setOccupation}></MasterOccupationEnter>,\r\n\r\n                    <MasterLocationEnter workingFrom={workingFrom} setWorkingFrom={setWorkingFrom}\r\n                                            location={location} setLocation={setLocation}\r\n                                            selectedOptionsLocation={selectedOptionsLocation} setSelectedOptionsLocation={setSelectedOptionsLocation}></MasterLocationEnter>, \r\n\r\n                    <MasterEmailEnter email={email} setEmail={setEmail}\r\n                                        codeConf={codeConf} setCodeConf={setcodeConf}\r\n                                        code={code} setCode={setcode}\r\n                                        sendCode={sendCode} setSendCode={setSendCode}></MasterEmailEnter>, \r\n\r\n                    <MasterPhotoEnter photo={photo} setPhoto={setPhoto}\r\n                                        FIO={fio}></MasterPhotoEnter>,\r\n                    <MasterPasswordEnter password={password} setPassword={setPassword}></MasterPasswordEnter>]\r\n\r\n    const move = async (incr) => {\r\n        const ntStep = step + incr;\r\n        switch (step) {\r\n            case 0:\r\n                if(fio[0] != \"\" && fio[1] != \"\"){\r\n                    setStep(ntStep);\r\n                }\r\n                break;\r\n            case 1:\r\n                if(occupation != \"\"){\r\n                    setStep(ntStep);\r\n                }\r\n                break;\r\n            case 2:\r\n                if(workingFrom != 0 && (location != \"\"|| selectedOptionsLocation != null)){\r\n                    setStep(ntStep);\r\n                }\r\n                break;\r\n            case 3:\r\n                if(email != \"\" && code != \"\"){\r\n                    if(code == sendCode){\r\n                        setStep(ntStep);\r\n                        setcodeConf(false);\r\n                    }\r\n                }\r\n                break;\r\n            case 4:\r\n                if(photo != null){\r\n                    setStep(ntStep);\r\n                }\r\n                break;\r\n            case 5:\r\n                if(password != \"\"){\r\n                    await masterController.registrate(fio, occupation, workingFrom, location, selectedOptionsLocation, \r\n                        email, photo, password);\r\n                    setStep(ntStep);\r\n                }\r\n                break;\r\n            default:\r\n                navigate('/');\r\n                break;\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n\r\n    }, [step])\r\n\r\n    return(<Fragment>\r\n        <div className='SignUpMaster'>\r\n            <div className='inner-SignUpMaster'>\r\n                <div className='go-back-button'>\r\n                    <div className='back-icon'></div>\r\n                    <button onClick={() => move(-1)} className='back-button'>Назад</button>\r\n                </div>\r\n                <div className='phases-wrapper'>\r\n                    {comps[step]}\r\n                    <button onClick={() => move(1)} className='continue-button'>Продолжить</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <Loader showLoader={showLoader} setShowLoader={setShowLoader} text={\"Проверяем код\"}></Loader>\r\n    </Fragment>);\r\n};\r\n\r\nexport default SignUpMaster;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}