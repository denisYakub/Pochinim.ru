{"ast":null,"code":"class ChatController{async sendMessageUser(text,id_companion,id_topic){const body={'email_sender':localStorage.getItem('mail'),'message_text':text,'id_companion':id_companion,'id_topic':id_topic};const result=await fetch(\"http://localhost:4000/api/chats/users\",{method:\"POST\",credentials:'include',headers:{\"Accept\":\"application/json\",\"Content-Type\":\"application/json\",'Authorization':\"Bearer \".concat(localStorage.getItem('token'))},body:JSON.stringify(body)});if(result.ok){}else{console.log('pls refresh');}}async getMessagesUser(id_topic,id_companion){const result=await fetch(\"http://localhost:4000/api/chats/users/\".concat(localStorage.getItem('mail'),\"/\").concat(id_topic,\"/\").concat(id_companion),{method:'GET',credentials:'include',headers:{\"Accept\":\"application/json\",'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});if(result.ok){return result.json();}else{console.log('pls refresh');}}async getChatsUserByIdTopic(id_topic){const result=await fetch(\"http://localhost:4000/api/chats/users/\".concat(localStorage.getItem('mail'),\"/\").concat(id_topic),{method:'GET',credentials:'include',headers:{\"Accept\":\"application/json\",'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});console.log(result);if(result.ok){return result.json();}else{console.log('pls refresh');}}}const chatController=new ChatController();export default chatController;","map":{"version":3,"names":["ChatController","sendMessageUser","text","id_companion","id_topic","body","localStorage","getItem","result","fetch","method","credentials","headers","concat","JSON","stringify","ok","console","log","getMessagesUser","json","getChatsUserByIdTopic","chatController"],"sources":["C:/Users/denis/VSCode_projects/Pochinim.ru/client/pochinim.ru/src/controllers/Chat-controller.js"],"sourcesContent":["class ChatController{\r\n    async sendMessageUser(text, id_companion, id_topic){\r\n        const body = {'email_sender': localStorage.getItem('mail'),\r\n         'message_text': text, 'id_companion': id_companion, 'id_topic': id_topic\r\n        };\r\n\r\n        const result = await fetch(`http://localhost:4000/api/chats/users`,{\r\n            method: \"POST\",\r\n            credentials: 'include',\r\n            headers: {\r\n                \"Accept\": \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n            },\r\n            body: JSON.stringify(body)\r\n        });\r\n\r\n        if(result.ok){\r\n\r\n        }else{\r\n            console.log('pls refresh');\r\n        }\r\n    }\r\n\r\n    async getMessagesUser(id_topic, id_companion){\r\n        const result = await fetch(`http://localhost:4000/api/chats/users/${localStorage.getItem('mail')}/${id_topic}/${id_companion}`,{\r\n            method: 'GET',\r\n            credentials: 'include',\r\n            headers: {\r\n                \"Accept\": \"application/json\",\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n            }\r\n        });\r\n           \r\n        if(result.ok){\r\n            return result.json();\r\n        }else{\r\n            console.log('pls refresh');\r\n        }\r\n    }\r\n    async getChatsUserByIdTopic(id_topic){\r\n        const result = await fetch(`http://localhost:4000/api/chats/users/${localStorage.getItem('mail')}/${id_topic}`,{\r\n            method: 'GET',\r\n            credentials: 'include',\r\n            headers: {\r\n                \"Accept\": \"application/json\",\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n            }\r\n        });\r\n           console.log(result);\r\n        if(result.ok){\r\n            return result.json();\r\n        }else{\r\n            console.log('pls refresh');\r\n        }\r\n    }\r\n}\r\n\r\nconst chatController = new ChatController();\r\n\r\nexport default chatController;"],"mappings":"AAAA,KAAM,CAAAA,cAAc,CAChB,KAAM,CAAAC,eAAeA,CAACC,IAAI,CAAEC,YAAY,CAAEC,QAAQ,CAAC,CAC/C,KAAM,CAAAC,IAAI,CAAG,CAAC,cAAc,CAAEC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CACzD,cAAc,CAAEL,IAAI,CAAE,cAAc,CAAEC,YAAY,CAAE,UAAU,CAAEC,QACjE,CAAC,CAED,KAAM,CAAAI,MAAM,CAAG,KAAM,CAAAC,KAAK,yCAAyC,CAC/DC,MAAM,CAAE,MAAM,CACdC,WAAW,CAAE,SAAS,CACtBC,OAAO,CAAE,CACL,QAAQ,CAAE,kBAAkB,CAC5B,cAAc,CAAE,kBAAkB,CAClC,eAAe,WAAAC,MAAA,CAAYP,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC5D,CAAC,CACDF,IAAI,CAAES,IAAI,CAACC,SAAS,CAACV,IAAI,CAC7B,CAAC,CAAC,CAEF,GAAGG,MAAM,CAACQ,EAAE,CAAC,CAEb,CAAC,IAAI,CACDC,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC,CAC9B,CACJ,CAEA,KAAM,CAAAC,eAAeA,CAACf,QAAQ,CAAED,YAAY,CAAC,CACzC,KAAM,CAAAK,MAAM,CAAG,KAAM,CAAAC,KAAK,0CAAAI,MAAA,CAA0CP,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,MAAAM,MAAA,CAAIT,QAAQ,MAAAS,MAAA,CAAIV,YAAY,EAAG,CAC3HO,MAAM,CAAE,KAAK,CACbC,WAAW,CAAE,SAAS,CACtBC,OAAO,CAAE,CACL,QAAQ,CAAE,kBAAkB,CAC5B,eAAe,WAAAC,MAAA,CAAYP,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC5D,CACJ,CAAC,CAAC,CAEF,GAAGC,MAAM,CAACQ,EAAE,CAAC,CACT,MAAO,CAAAR,MAAM,CAACY,IAAI,CAAC,CAAC,CACxB,CAAC,IAAI,CACDH,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC,CAC9B,CACJ,CACA,KAAM,CAAAG,qBAAqBA,CAACjB,QAAQ,CAAC,CACjC,KAAM,CAAAI,MAAM,CAAG,KAAM,CAAAC,KAAK,0CAAAI,MAAA,CAA0CP,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,MAAAM,MAAA,CAAIT,QAAQ,EAAG,CAC3GM,MAAM,CAAE,KAAK,CACbC,WAAW,CAAE,SAAS,CACtBC,OAAO,CAAE,CACL,QAAQ,CAAE,kBAAkB,CAC5B,eAAe,WAAAC,MAAA,CAAYP,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC5D,CACJ,CAAC,CAAC,CACCU,OAAO,CAACC,GAAG,CAACV,MAAM,CAAC,CACtB,GAAGA,MAAM,CAACQ,EAAE,CAAC,CACT,MAAO,CAAAR,MAAM,CAACY,IAAI,CAAC,CAAC,CACxB,CAAC,IAAI,CACDH,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC,CAC9B,CACJ,CACJ,CAEA,KAAM,CAAAI,cAAc,CAAG,GAAI,CAAAtB,cAAc,CAAC,CAAC,CAE3C,cAAe,CAAAsB,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}