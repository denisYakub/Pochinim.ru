{"ast":null,"code":"import{Fragment,useContext,useEffect,useMemo,useState}from\"react\";import{useParams}from\"react-router-dom\";import{contextCreatetopic}from'../../../contexts/contextCreatetopic';import TopicEnter from'./phases/TopicEnter';import ContactEnter from'./phases/ContactEnter';import NeedEnter from'./phases/NeedEnter';import ProblemEnter from'./phases/ProblemEnter';import ProblemLocationEnter from'./phases/ProblemLocationEnter';import AddressEnter from'./phases/AddressEnter';import DateEnter from'./phases/DateEnter';import PaymentEnter from'./phases/PaymentEnter';import DetailsEnter from'./phases/DetailsEnter';import AccountEnter from'./phases/AccountEnter';import ListOfMasters from'./ListOfMasters';import HelpPage from'../HelpPage/HelpPage';import Popup from'../../Popups/AlarmPopup/AlarmPopup';import'./CreateTopic.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const CreateTopic=()=>{const params=useParams();const auth=params===null||params===void 0?void 0:params.email;const TOPIC=useContext(contextCreatetopic);const[activePop,setActivePop]=useState(false);const[textPop,setTextPop]=useState(\"Войдите или зарегестрируйтесь, чтоб создавать темы\");const[hide,setHide]=useState(false);const[activeStage,setActiveStage]=useState(0);const[idLeftButtonsComps,setIdLeftButtonsComps]=useState(2);const phasesComps=[/*#__PURE__*/_jsx(TopicEnter,{TOPIC:TOPIC}),/*#__PURE__*/_jsx(ContactEnter,{TOPIC:TOPIC}),/*#__PURE__*/_jsx(NeedEnter,{TOPIC:TOPIC}),/*#__PURE__*/_jsx(ProblemEnter,{TOPIC:TOPIC}),/*#__PURE__*/_jsx(ProblemLocationEnter,{TOPIC:TOPIC}),/*#__PURE__*/_jsx(AddressEnter,{TOPIC:TOPIC}),/*#__PURE__*/_jsx(DateEnter,{TOPIC:TOPIC}),/*#__PURE__*/_jsx(PaymentEnter,{TOPIC:TOPIC}),/*#__PURE__*/_jsx(DetailsEnter,{TOPIC:TOPIC}),/*#__PURE__*/_jsx(AccountEnter,{TOPIC:TOPIC,hide:hide,setHide:setHide})];const leftButtonsComps=[/*#__PURE__*/_jsx(ListOfMasters,{topic:TOPIC.topicName,setActivePop:setActivePop,setTextPop:setTextPop,idTopic:TOPIC.topicId}),/*#__PURE__*/_jsx(HelpPage,{})];useEffect(()=>{async function checkAccess(){if(auth=='null'){setActivePop(true);}}checkAccess();},[]);const moveOn=async()=>{if(activeStage+1<=9)setActiveStage(activeStage+1);};const moveBack=()=>{if(activeStage-1>=0)setActiveStage(activeStage-1);};const help=()=>{if(idLeftButtonsComps===1){setIdLeftButtonsComps(2);}else if(idLeftButtonsComps===2){setIdLeftButtonsComps(1);}else if(idLeftButtonsComps===0){setIdLeftButtonsComps(1);}};const masters=()=>{if(idLeftButtonsComps===0){setIdLeftButtonsComps(2);}else if(idLeftButtonsComps===2){setIdLeftButtonsComps(0);}else if(idLeftButtonsComps===1){setIdLeftButtonsComps(0);}};return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"page-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"createTopic-content-\".concat(idLeftButtonsComps),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"createTopic-navigation\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navigation-profile-wrapper\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button-grey\",onClick:masters,children:\"\\u0421\\u043F\\u0435\\u0446\\u0438\\u0430\\u043B\\u0438\\u0441\\u0442\\u044B\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button-grey\",onClick:help,children:\" \\u041F\\u043E\\u043C\\u043E\\u0449\\u044C\"})]}),/*#__PURE__*/_jsxs(\"a\",{children:[\"\\u0417\\u0430\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u0438\\u0435 \\u0444\\u043E\\u0440\\u043C\\u044B - \",TOPIC.topicName]})]}),idLeftButtonsComps===2?/*#__PURE__*/_jsxs(\"div\",{className:\"createTopic-phases\",children:[phasesComps[activeStage],/*#__PURE__*/_jsxs(\"div\",{className:\"createTopic-phases-control-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{name:\"prev\",onClick:moveBack,children:[/*#__PURE__*/_jsx(\"div\",{className:\"prevIcon\"}),\"\\u041D\\u0430\\u0437\\u0430\\u0434\"]}),activeStage<9?/*#__PURE__*/_jsxs(\"button\",{name:\"nt\",onClick:moveOn,children:[\"\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u044C\",/*#__PURE__*/_jsx(\"div\",{className:\"ntIcon\"})]}):/*#__PURE__*/_jsx(_Fragment,{})]})]}):leftButtonsComps[idLeftButtonsComps]]}),/*#__PURE__*/_jsx(Popup,{active:activePop,setActive:setActivePop,children:textPop})]})});};export default CreateTopic;","map":{"version":3,"names":["Fragment","useContext","useEffect","useMemo","useState","useParams","contextCreatetopic","TopicEnter","ContactEnter","NeedEnter","ProblemEnter","ProblemLocationEnter","AddressEnter","DateEnter","PaymentEnter","DetailsEnter","AccountEnter","ListOfMasters","HelpPage","Popup","jsx","_jsx","jsxs","_jsxs","_Fragment","CreateTopic","params","auth","email","TOPIC","activePop","setActivePop","textPop","setTextPop","hide","setHide","activeStage","setActiveStage","idLeftButtonsComps","setIdLeftButtonsComps","phasesComps","leftButtonsComps","topic","topicName","idTopic","topicId","checkAccess","moveOn","moveBack","help","masters","children","className","concat","onClick","name","active","setActive"],"sources":["C:/Users/denis/VSCode_projects/Pochinim.ru/client/pochinim.ru/src/components/Pages/CreateTopic/CreateTopic.js"],"sourcesContent":["import { Fragment, useContext, useEffect, useMemo, useState } from \"react\";\r\nimport { useParams} from \"react-router-dom\";\r\nimport { contextCreatetopic } from '../../../contexts/contextCreatetopic';\r\nimport TopicEnter from './phases/TopicEnter';\r\nimport ContactEnter from './phases/ContactEnter';\r\nimport NeedEnter from './phases/NeedEnter';\r\nimport ProblemEnter from './phases/ProblemEnter';\r\nimport ProblemLocationEnter from './phases/ProblemLocationEnter';\r\nimport AddressEnter from './phases/AddressEnter';\r\nimport DateEnter from './phases/DateEnter';\r\nimport PaymentEnter from './phases/PaymentEnter';\r\nimport DetailsEnter from './phases/DetailsEnter';\r\nimport AccountEnter from './phases/AccountEnter';\r\nimport ListOfMasters from './ListOfMasters';\r\nimport HelpPage from '../HelpPage/HelpPage';\r\nimport Popup from '../../Popups/AlarmPopup/AlarmPopup';\r\nimport './CreateTopic.css';\r\n\r\nconst CreateTopic = () => {\r\n\r\n    const params = useParams();\r\n    const auth = params?.email;\r\n\r\n    const TOPIC = useContext(contextCreatetopic);\r\n\r\n    const [activePop, setActivePop] = useState(false);\r\n    const [textPop, setTextPop] = useState(\"Войдите или зарегестрируйтесь, чтоб создавать темы\");\r\n    const [hide, setHide] = useState(false);\r\n\r\n    const [activeStage, setActiveStage] = useState(0);\r\n    const [idLeftButtonsComps, setIdLeftButtonsComps] = useState(2);\r\n\r\n    const phasesComps = [<TopicEnter TOPIC={TOPIC}></TopicEnter>, \r\n                        <ContactEnter TOPIC={TOPIC}></ContactEnter>, \r\n                        <NeedEnter TOPIC={TOPIC}></NeedEnter>, \r\n                        <ProblemEnter TOPIC={TOPIC}></ProblemEnter>,\r\n                        <ProblemLocationEnter TOPIC={TOPIC}></ProblemLocationEnter>, \r\n                        <AddressEnter TOPIC={TOPIC}></AddressEnter>, \r\n                        <DateEnter TOPIC={TOPIC}></DateEnter>, \r\n                        <PaymentEnter TOPIC={TOPIC}></PaymentEnter>, \r\n                        <DetailsEnter TOPIC={TOPIC}></DetailsEnter>, \r\n                        <AccountEnter TOPIC={TOPIC} hide={hide} setHide={setHide}></AccountEnter>]\r\n\r\n    const leftButtonsComps = [<ListOfMasters topic={TOPIC.topicName}\r\n                                                setActivePop={setActivePop} setTextPop={setTextPop}\r\n                                                idTopic={TOPIC.topicId}></ListOfMasters>,\r\n                                <HelpPage></HelpPage>];                                    \r\n    \r\n    useEffect(() => {\r\n        async function checkAccess(){\r\n            if(auth == 'null'){\r\n                setActivePop(true);\r\n            }\r\n        }\r\n\r\n        checkAccess();\r\n    }, [])\r\n\r\n    const moveOn = async () => {\r\n        if(activeStage + 1 <= 9)\r\n            setActiveStage(activeStage + 1);\r\n    }\r\n\r\n    const moveBack = () => {\r\n        if(activeStage - 1 >= 0)\r\n            setActiveStage(activeStage - 1);\r\n    }\r\n\r\n    const help = () => {\r\n        if(idLeftButtonsComps === 1){\r\n            setIdLeftButtonsComps(2);\r\n        }else if(idLeftButtonsComps === 2){\r\n            setIdLeftButtonsComps(1);\r\n        }else if(idLeftButtonsComps === 0){\r\n            setIdLeftButtonsComps(1);\r\n        }\r\n    }\r\n\r\n    const masters = () => {\r\n        if(idLeftButtonsComps === 0){\r\n            setIdLeftButtonsComps(2);\r\n        }else if(idLeftButtonsComps === 2){\r\n            setIdLeftButtonsComps(0);\r\n        }else if(idLeftButtonsComps === 1){\r\n            setIdLeftButtonsComps(0);\r\n        }\r\n        \r\n    }\r\n    \r\n    return(<Fragment>\r\n        <div className= \"page-wrapper\">\r\n            <div className={`createTopic-content-${idLeftButtonsComps}`}>\r\n                <div className=\"createTopic-navigation\">\r\n                    <div className=\"navigation-profile-wrapper\">\r\n                        <button className=\"button-grey\" onClick={masters}>Специалисты</button>\r\n                        <button className=\"button-grey\"onClick={help}> Помощь</button>\r\n                    </div>\r\n                    <a>Заполнение формы - {TOPIC.topicName}</a>\r\n                </div>\r\n                {idLeftButtonsComps === 2?\r\n                    <div className=\"createTopic-phases\">\r\n                        {phasesComps[activeStage]}\r\n                        <div className=\"createTopic-phases-control-buttons\">\r\n                            <button name=\"prev\" onClick={moveBack}>\r\n                                <div className=\"prevIcon\"></div>\r\n                                Назад\r\n                            </button>\r\n                            {activeStage<9?\r\n                                <button name=\"nt\" onClick={moveOn}>\r\n                                    Продолжить\r\n                                    <div className=\"ntIcon\"></div>\r\n                                </button>\r\n                            :<></>}\r\n                        </div>\r\n                    </div>\r\n                :\r\n                    leftButtonsComps[idLeftButtonsComps]}\r\n            </div>\r\n            <Popup active={activePop} setActive={setActivePop}>\r\n                {textPop}\r\n            </Popup>\r\n        </div>\r\n    </Fragment>);\r\n}\r\n\r\nexport default CreateTopic;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}