{"ast":null,"code":"import{useNavigate}from'react-router-dom';import\"../Navigation/Navigation.css\";import{Fragment,useEffect,useState}from'react';import USERController from'../../controllers/USER-controller';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=()=>{const navigate=useNavigate();const[auth,setAuth]=useState(null);const[search,setSearch]=useState(\"\");useEffect(()=>{async function getAuth(){if(await USERController.checkForAccess()){setAuth(localStorage.getItem('mail'));}else{setAuth(null);}}setTimeout(()=>{getAuth();},10);},[navigate,auth]);const submitSearch=e=>{e.preventDefault();navigate('/Search',{replace:true,state:{search}});};const selectHandler=val=>{if(val==2){navigate('/SignInUpAsMaster');}};return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"nav\",{className:\"nav\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inner-nav\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rightPartOfNav\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"siteLogo\",children:\".\"}),/*#__PURE__*/_jsxs(\"select\",{children:[/*#__PURE__*/_jsx(\"option\",{children:\"\\u0421\\u0430\\u043D\\u043A\\u0442-\\u041F\\u0435\\u0442\\u0435\\u0440\\u0431\\u0443\\u0440\\u0433\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u041C\\u043E\\u0441\\u043A\\u0432\\u0430\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"leftPartOfNav\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"\\u041C\\u043E\\u0438 \\u0437\\u0430\\u043A\\u0430\\u0437\\u044B\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"\\u0424\\u043E\\u0440\\u0443\\u043C \"}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>selectHandler(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"\\u0421\\u043F\\u0435\\u0446\\u0438\\u0430\\u043B\\u0438\\u0441\\u0442\\u0430\\u043C\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"\\u0420\\u0435\\u0433\\u0435\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:submitSearch,children:/*#__PURE__*/_jsx(\"input\",{className:\"navInput\",onChange:e=>setSearch(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"acc\",children:auth?/*#__PURE__*/_jsx(\"a\",{href:\"/UserProfile\",children:auth}):/*#__PURE__*/_jsx(\"a\",{href:\"/SignInUp\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})})]})]})})});};export default Navbar;","map":{"version":3,"names":["useNavigate","Fragment","useEffect","useState","USERController","jsx","_jsx","jsxs","_jsxs","Navbar","navigate","auth","setAuth","search","setSearch","getAuth","checkForAccess","localStorage","getItem","setTimeout","submitSearch","e","preventDefault","replace","state","selectHandler","val","children","className","href","onChange","target","value","onSubmit"],"sources":["C:/Users/denis/VSCode_projects/Pochinim.ru/client/pochinim.ru/src/components/Navigation/NavigationBar.js"],"sourcesContent":["import { useNavigate } from 'react-router-dom'\r\nimport \"../Navigation/Navigation.css\"\r\nimport { Fragment, useEffect, useState } from 'react';\r\nimport USERController from '../../controllers/USER-controller';\r\n\r\nconst Navbar = () => {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const [auth, setAuth] = useState(null)\r\n    const [search, setSearch] = useState(\"\")\r\n    \r\n    useEffect(() => {\r\n        async function getAuth() {\r\n            if(await USERController.checkForAccess()){\r\n                setAuth(localStorage.getItem('mail'));\r\n            }else{\r\n                setAuth(null);\r\n            }\r\n        }\r\n\r\n        setTimeout(() => {\r\n            getAuth();\r\n        }, 10);\r\n\r\n    },[navigate, auth])\r\n\r\n    const submitSearch = e => {\r\n        e.preventDefault()\r\n        navigate('/Search', {replace: true, state:{search}})\r\n    }\r\n\r\n    const selectHandler = (val) =>{\r\n        if(val == 2){\r\n            navigate('/SignInUpAsMaster');\r\n        }\r\n    };\r\n\r\n    return (<Fragment>\r\n        <nav className=\"nav\">\r\n        <div className=\"inner-nav\">\r\n            <div className=\"rightPartOfNav\">\r\n                <a href='/' className='siteLogo'>.</a>\r\n                <select>\r\n                    <option>Санкт-Петербург</option>\r\n                    <option>Москва</option>\r\n                </select>\r\n            </div>\r\n            <div className=\"leftPartOfNav\">\r\n                <a href='/'>Мои заказы</a>\r\n                <a href='/'>Форум </a>\r\n                <select onChange={e => selectHandler(e.target.value)}>\r\n                    <option value={1}>Специалистам</option>\r\n                    <option value={2}>Регестрация</option>\r\n                </select>\r\n                <form onSubmit={submitSearch}>\r\n                    <input className='navInput' onChange={e => setSearch(e.target.value)}></input>\r\n                </form>\r\n                <div className='acc'>\r\n                    {auth? <a href='/UserProfile'>{auth}</a> : <a href='/SignInUp'>Войти</a>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </nav>\r\n    </Fragment>);\r\n};\r\n\r\nexport default Navbar"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}