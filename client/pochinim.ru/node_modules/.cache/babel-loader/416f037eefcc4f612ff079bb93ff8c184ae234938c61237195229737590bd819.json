{"ast":null,"code":"import{Fragment,useEffect,useState}from\"react\";import defaultPhoto from'../../../../img/default-user-img.png';import userController from\"../../../../controllers/USER-controller\";import X from'../../../../img/x.png';import Y from'../../../../img/verification-status-green-img.png';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const MainInfoBlock=_ref=>{let{photo_path,name,registration_date,passportConf}=_ref;const[photo,setPhoto]=useState(defaultPhoto);const navigate=useNavigate();const upDatePhoto=async value=>{await userController.saveUserPhoto(value);setPhoto(URL.createObjectURL(value));};useEffect(()=>{async function setData(){if(photo_path!=null){setPhoto(await userController.getUserPhoto(photo_path));}}setData();},[photo_path]);return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"phases-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main-info-block\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"round-profile-photo\",onClick:()=>document.querySelector('.round-photo-input').click(),children:[/*#__PURE__*/_jsx(\"img\",{src:photo,alt:\"\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",hidden:true,accept:\".jpg,.jpeg,.png\",className:\"round-photo-input\",onChange:e=>upDatePhoto(e.target.files[0])})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-info-name-date\",children:[/*#__PURE__*/_jsx(\"h1\",{children:name}),/*#__PURE__*/_jsx(\"p\",{children:registration_date===null||registration_date===void 0?void 0:registration_date.split('T')[0]})]})]}),passportConf?/*#__PURE__*/_jsxs(\"div\",{className:\"main-info-documents-block\",children:[/*#__PURE__*/_jsx(\"img\",{src:Y,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u041F\\u0430\\u0441\\u043F\\u043E\\u0440\\u0442\\u043D\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u044B\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"main-info-documents-block\",onClick:()=>{navigate(\"documentVerification/passport\");},children:[/*#__PURE__*/_jsx(\"img\",{src:X,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u041F\\u0430\\u0441\\u043F\\u043E\\u0440\\u0442\\u043D\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043D\\u0435 \\u043F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u044B\"})]})]})});};export default MainInfoBlock;","map":{"version":3,"names":["Fragment","useEffect","useState","defaultPhoto","userController","X","Y","useNavigate","jsx","_jsx","jsxs","_jsxs","MainInfoBlock","_ref","photo_path","name","registration_date","passportConf","photo","setPhoto","navigate","upDatePhoto","value","saveUserPhoto","URL","createObjectURL","setData","getUserPhoto","children","className","onClick","document","querySelector","click","src","alt","type","hidden","accept","onChange","e","target","files","split"],"sources":["C:/Users/denis/VSCode_projects/Pochinim.ru/client/pochinim.ru/src/components/Pages/UserProfile/clientBlocks/MainInfoBlock.js"],"sourcesContent":["import { Fragment, useEffect, useState } from \"react\";\r\nimport defaultPhoto from '../../../../img/default-user-img.png';\r\nimport userController from \"../../../../controllers/USER-controller\";\r\nimport X from '../../../../img/x.png';\r\nimport Y from '../../../../img/verification-status-green-img.png';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst MainInfoBlock = ({photo_path, name, registration_date, passportConf}) =>{\r\n\r\n    const [photo, setPhoto] = useState(defaultPhoto);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const upDatePhoto = async(value) => {\r\n        await userController.saveUserPhoto(value);\r\n        setPhoto(URL.createObjectURL(value));\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function setData(){\r\n            if(photo_path != null){\r\n                setPhoto(await userController.getUserPhoto(photo_path));\r\n            }\r\n        }\r\n\r\n        setData();\r\n    }, [photo_path])\r\n\r\n    return(<Fragment>\r\n        <div className=\"phases-wrapper\">\r\n            <div className=\"main-info-block\">\r\n                <div className=\"round-profile-photo\" onClick={() => document.querySelector('.round-photo-input').click()}>\r\n                    <img src={photo} alt=\"\"></img>\r\n                    <input type='file' hidden accept=\".jpg,.jpeg,.png\" className=\"round-photo-input\" \r\n                        onChange={e => upDatePhoto(e.target.files[0])}></input>\r\n                </div>\r\n                <div className=\"main-info-name-date\">\r\n                    <h1>{name}</h1>\r\n                    <p>{registration_date?.split('T')[0]}</p>\r\n                </div>\r\n            </div>\r\n            {passportConf?\r\n                <div className=\"main-info-documents-block\">\r\n                    <img src={Y} alt=\"\"></img>\r\n                    <p>Паспортные данные подтверждены</p>\r\n                </div>\r\n            :\r\n                <div className=\"main-info-documents-block\" onClick={() => {navigate(`documentVerification/passport`)}}>\r\n                    <img src={X} alt=\"\"></img>\r\n                    <p>Паспортные данные не подтверждены</p>\r\n                </div>}\r\n        </div>\r\n    </Fragment>);\r\n}\r\n\r\nexport default MainInfoBlock;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}