{"ast":null,"code":"import{Fragment,useEffect,useState}from\"react\";import MasterProfileCard from'./MasterCard';import'./MasterCard.css';import masterController from\"../../../controllers/MASTER-controller\";import{jsx as _jsx}from\"react/jsx-runtime\";const ListOfMasters=_ref=>{let{topic,setActivePop,setTextPop,idTopic}=_ref;const[list,setList]=useState([]);useEffect(()=>{async function setData(){var sortedList=[];setList(await masterController.getListOfMasters(0,30));if(list.length>0){list.forEach(el=>{for(var i=0;i<el.sercicesAndPrice.length;++i){if(el.sercicesAndPrice[i][0].toLowerCase().includes(topic.toLowerCase())){sortedList.push(el);break;}}});if(sortedList.length>0){setList(sortedList);}else{//если ничего не нашлось\n}}}setData();},[]);return/*#__PURE__*/_jsx(Fragment,{children:list===null||list===void 0?void 0:list.map((obj,key)=>{return/*#__PURE__*/_jsx(\"div\",{className:\"list-of-masters-wrapper\",children:/*#__PURE__*/_jsx(MasterProfileCard,{value:obj,setActivePop:setActivePop,setTextPop:setTextPop,idTopic:idTopic},key)});})});};export default ListOfMasters;","map":{"version":3,"names":["Fragment","useEffect","useState","MasterProfileCard","masterController","jsx","_jsx","ListOfMasters","_ref","topic","setActivePop","setTextPop","idTopic","list","setList","setData","sortedList","getListOfMasters","length","forEach","el","i","sercicesAndPrice","toLowerCase","includes","push","children","map","obj","key","className","value"],"sources":["C:/Users/denis/VSCode_projects/Pochinim.ru/client/pochinim.ru/src/components/Pages/CreateTopic/ListOfMasters.js"],"sourcesContent":["import { Fragment, useEffect, useState } from \"react\";\r\nimport MasterProfileCard from './MasterCard';\r\nimport './MasterCard.css'\r\nimport masterController from \"../../../controllers/MASTER-controller\";\r\n\r\nconst ListOfMasters = ({topic, setActivePop, setTextPop, idTopic}) => {\r\n    const [list, setList] = useState([]);\r\n\r\n    useEffect(() => {\r\n        async function setData(){\r\n\r\n            var sortedList = [];\r\n\r\n            setList(await masterController.getListOfMasters(0, 30));\r\n\r\n            if(list.length > 0){\r\n                list.forEach(el => {\r\n                    for (var i = 0; i < el.sercicesAndPrice.length; ++i){\r\n                        if(el.sercicesAndPrice[i][0].toLowerCase().includes(topic.toLowerCase())){\r\n                            sortedList.push(el);\r\n                            break;\r\n                        }\r\n                    }\r\n                });\r\n    \r\n                if(sortedList.length > 0){\r\n                    setList(sortedList); \r\n                }else{\r\n                    //если ничего не нашлось\r\n                } \r\n            }\r\n        }\r\n\r\n        setData();\r\n    }, []);\r\n\r\n    return(<Fragment>\r\n        {list?.map((obj, key) => {\r\n            return(<div className=\"list-of-masters-wrapper\">\r\n                <MasterProfileCard value={obj} key={key} \r\n                setActivePop={setActivePop} setTextPop={setTextPop}\r\n                idTopic={idTopic}></MasterProfileCard>\r\n            </div>);    \r\n        })}\r\n    </Fragment>);\r\n}\r\n\r\nexport default ListOfMasters;"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACrD,MAAO,CAAAC,iBAAiB,KAAM,cAAc,CAC5C,MAAO,kBAAkB,CACzB,MAAO,CAAAC,gBAAgB,KAAM,wCAAwC,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEtE,KAAM,CAAAC,aAAa,CAAGC,IAAA,EAAgD,IAA/C,CAACC,KAAK,CAAEC,YAAY,CAAEC,UAAU,CAAEC,OAAO,CAAC,CAAAJ,IAAA,CAC7D,KAAM,CAACK,IAAI,CAAEC,OAAO,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAEpCD,SAAS,CAAC,IAAM,CACZ,cAAe,CAAAc,OAAOA,CAAA,CAAE,CAEpB,GAAI,CAAAC,UAAU,CAAG,EAAE,CAEnBF,OAAO,CAAC,KAAM,CAAAV,gBAAgB,CAACa,gBAAgB,CAAC,CAAC,CAAE,EAAE,CAAC,CAAC,CAEvD,GAAGJ,IAAI,CAACK,MAAM,CAAG,CAAC,CAAC,CACfL,IAAI,CAACM,OAAO,CAACC,EAAE,EAAI,CACf,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGD,EAAE,CAACE,gBAAgB,CAACJ,MAAM,CAAE,EAAEG,CAAC,CAAC,CAChD,GAAGD,EAAE,CAACE,gBAAgB,CAACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAACE,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACf,KAAK,CAACc,WAAW,CAAC,CAAC,CAAC,CAAC,CACrEP,UAAU,CAACS,IAAI,CAACL,EAAE,CAAC,CACnB,MACJ,CACJ,CACJ,CAAC,CAAC,CAEF,GAAGJ,UAAU,CAACE,MAAM,CAAG,CAAC,CAAC,CACrBJ,OAAO,CAACE,UAAU,CAAC,CACvB,CAAC,IAAI,CACD;AAAA,CAER,CACJ,CAEAD,OAAO,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,mBAAOT,IAAA,CAACN,QAAQ,EAAA0B,QAAA,CACXb,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEc,GAAG,CAAC,CAACC,GAAG,CAAEC,GAAG,GAAK,CACrB,mBAAOvB,IAAA,QAAKwB,SAAS,CAAC,yBAAyB,CAAAJ,QAAA,cAC3CpB,IAAA,CAACH,iBAAiB,EAAC4B,KAAK,CAAEH,GAAI,CAC9BlB,YAAY,CAAEA,YAAa,CAACC,UAAU,CAAEA,UAAW,CACnDC,OAAO,CAAEA,OAAQ,EAFmBiB,GAEC,CAAC,CACrC,CAAC,CACV,CAAC,CAAC,CACI,CAAC,CACf,CAAC,CAED,cAAe,CAAAtB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}