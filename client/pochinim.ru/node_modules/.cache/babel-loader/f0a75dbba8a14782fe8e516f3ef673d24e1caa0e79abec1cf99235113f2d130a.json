{"ast":null,"code":"import{useNavigate}from'react-router-dom';import\"../Navigation/Navigation.css\";import{Fragment,useContext,useEffect,useState}from'react';import USERController from'../../controllers/USER-controller';import{contextLocation}from'../../contexts/contextLocation';import masterController from'../../controllers/MASTER-controller';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=()=>{const navigate=useNavigate();const[auth,setAuth]=useState(null);const[authMaster,setAuthMaster]=useState(null);const[search,setSearch]=useState(\"\");const{locations,location,setLocation,cities,city,setCity}=useContext(contextLocation);async function getAuth(){setAuth(localStorage.getItem('mail'));setAuthMaster(localStorage.getItem('mail-master'));}useEffect(()=>{setTimeout(()=>{getAuth();},10);},[navigate]);const submitSearch=e=>{e.preventDefault();navigate('/Search',{replace:true,state:{search}});};const selectMasterHandler=val=>{if(val==1){}else if(val==2){navigate('/SignUpAsMaster');}else if(val==3){authMaster?navigate('/'):navigate('/SignInAsMaster');}};const selectLocationHandler=val=>{setLocation(locations[val]);setCity(cities[val]);console.log(city);console.log(location);};return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"nav\",{className:\"nav\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inner-nav\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rightPartOfNav\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"siteLogo\",children:\".\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>selectLocationHandler(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:0,children:\"\\u041C\\u043E\\u0441\\u043A\\u0432\\u0430\"}),/*#__PURE__*/_jsx(\"option\",{value:1,children:\"\\u0421\\u0430\\u043D\\u043A\\u0442-\\u041F\\u0435\\u0442\\u0435\\u0440\\u0431\\u0443\\u0440\\u0433\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"leftPartOfNav\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/MyOrders/\".concat(auth),children:\"\\u041C\\u043E\\u0438 \\u0437\\u0430\\u043A\\u0430\\u0437\\u044B\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"\\u0424\\u043E\\u0440\\u0443\\u043C \"}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>selectMasterHandler(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"\\u0421\\u043F\\u0435\\u0446\\u0438\\u0430\\u043B\\u0438\\u0441\\u0442\\u0430\\u043C\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"\\u0420\\u0435\\u0433\\u0435\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"option\",{value:3,children:authMaster?authMaster:'Вход'})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:submitSearch,children:/*#__PURE__*/_jsx(\"input\",{className:\"navInput\",onChange:e=>setSearch(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"acc\",children:auth?/*#__PURE__*/_jsx(\"a\",{href:\"/UserProfile/\".concat(auth),children:auth}):/*#__PURE__*/_jsx(\"a\",{href:\"/SignInUp\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})})]})]})})});};export default Navbar;","map":{"version":3,"names":["useNavigate","Fragment","useContext","useEffect","useState","USERController","contextLocation","masterController","jsx","_jsx","jsxs","_jsxs","Navbar","navigate","auth","setAuth","authMaster","setAuthMaster","search","setSearch","locations","location","setLocation","cities","city","setCity","getAuth","localStorage","getItem","setTimeout","submitSearch","e","preventDefault","replace","state","selectMasterHandler","val","selectLocationHandler","console","log","children","className","href","onChange","target","value","concat","onSubmit"],"sources":["C:/Users/denis/VSCode_projects/Pochinim.ru/client/pochinim.ru/src/components/Navigation/NavigationBar.js"],"sourcesContent":["import { useNavigate } from 'react-router-dom'\r\nimport \"../Navigation/Navigation.css\"\r\nimport { Fragment, useContext, useEffect, useState } from 'react';\r\nimport USERController from '../../controllers/USER-controller';\r\nimport { contextLocation } from '../../contexts/contextLocation';\r\nimport masterController from '../../controllers/MASTER-controller';\r\n\r\nconst Navbar = () => {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const [auth, setAuth] = useState(null)\r\n    const [authMaster, setAuthMaster] = useState(null)\r\n    const [search, setSearch] = useState(\"\")\r\n\r\n    const { locations, location, setLocation, cities, city, setCity } = useContext(contextLocation);\r\n    \r\n    async function getAuth() {\r\n        setAuth(localStorage.getItem('mail'));\r\n        setAuthMaster(localStorage.getItem('mail-master'));\r\n    }\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            getAuth();\r\n        }, 10);\r\n\r\n    },[navigate])\r\n\r\n    const submitSearch = e => {\r\n        e.preventDefault()\r\n        navigate('/Search', {replace: true, state:{search}})\r\n    }\r\n\r\n    const selectMasterHandler = (val) =>{\r\n        if(val == 1){\r\n\r\n        }else if(val == 2){\r\n            navigate('/SignUpAsMaster');\r\n        }else if(val == 3){\r\n            authMaster?navigate('/'):navigate('/SignInAsMaster');\r\n        }\r\n    };\r\n\r\n    const selectLocationHandler = (val) =>{\r\n        setLocation(locations[val]);\r\n        setCity(cities[val]);\r\n        console.log(city);\r\n        console.log(location);\r\n    };\r\n    \r\n    return (<Fragment>\r\n        <nav className=\"nav\">\r\n        <div className=\"inner-nav\">\r\n            <div className=\"rightPartOfNav\">\r\n                <a href='/' className='siteLogo'>.</a>\r\n                <select onChange={e => selectLocationHandler(e.target.value)}>\r\n                    <option value={0}>Москва</option>\r\n                    <option value={1}>Санкт-Петербург</option>\r\n                </select>\r\n            </div>\r\n            <div className=\"leftPartOfNav\">\r\n                <a href={`/MyOrders/${auth}`}>Мои заказы</a>\r\n                <a href='/'>Форум </a>\r\n                <select onChange={e => selectMasterHandler(e.target.value)}>\r\n                    <option value={1}>Специалистам</option>\r\n                    <option value={2}>Регестрация</option>\r\n                    <option value={3}>{authMaster?authMaster:'Вход'}</option>\r\n                </select>\r\n                <form onSubmit={submitSearch}>\r\n                    <input className='navInput' onChange={e => setSearch(e.target.value)}></input>\r\n                </form>\r\n                <div className='acc'>\r\n                    {auth? <a href={`/UserProfile/${auth}`}>{auth}</a> : <a href='/SignInUp'>Войти</a>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </nav>\r\n    </Fragment>);\r\n};\r\n\r\nexport default Navbar"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}