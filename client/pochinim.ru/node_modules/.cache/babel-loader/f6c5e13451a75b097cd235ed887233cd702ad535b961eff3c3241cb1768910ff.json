{"ast":null,"code":"import buttonsAnimations from\"../../../animations/buttons-animations\";import textAnimations from\"../../../animations/text-animations\";import USERController from\"../../../controllers/USER-controller\";import{motion,useAnimate}from'framer-motion';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const PasswordPhase=_ref=>{let{phase,setPhase,password,setPassword,name,setName,email,emailCode,errorInSingInUp,setErrorInSingInUp}=_ref;const[errorScope,animateError]=useAnimate();const[errorRed,animateErrorRed]=useAnimate();const click=async()=>{if(emailCode==0){if(await USERController.logInUser(email,password)){setErrorInSingInUp(null);setPhase(phase+1);}else{setErrorInSingInUp(\"Неверный пароль\");}}else{if(await USERController.registrate(email,name,password)){setErrorInSingInUp(null);setPhase(phase+1);}else{textAnimations.highlightErrorInput(\"#1C1C1C\",{errorRed,animateErrorRed});setErrorInSingInUp(\"Неизвестная ошибка\");}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"inner-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"annotationReg\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"p\",{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputAndError\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:'пароль',value:password,onChange:e=>setPassword(e.target.value),ref:errorRed}),errorInSingInUp!=null?/*#__PURE__*/_jsx(\"div\",{className:\"errorInSignInUp\",onMouseEnter:()=>buttonsAnimations.showErrorHint(1,{errorScope,animateError}),onMouseLeave:()=>buttonsAnimations.showErrorHint(0,{errorScope,animateError})}):console.log(\"no_errors\"),/*#__PURE__*/_jsx(motion.a,{className:\"errorRegMessage\",ref:errorScope,initial:{scale:0,y:40,x:542},children:errorInSingInUp})]}),console.log(emailCode),emailCode!=0?/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:'ФИО',value:name,onChange:e=>setName(e.target.value)}):/*#__PURE__*/_jsx(_Fragment,{})]}),/*#__PURE__*/_jsx(\"button\",{className:\"buttonNext\",onClick:click,children:\"\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u044C\"})]});};export default PasswordPhase;","map":{"version":3,"names":["buttonsAnimations","textAnimations","USERController","motion","useAnimate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PasswordPhase","_ref","phase","setPhase","password","setPassword","name","setName","email","emailCode","errorInSingInUp","setErrorInSingInUp","errorScope","animateError","errorRed","animateErrorRed","click","logInUser","registrate","highlightErrorInput","className","children","type","placeholder","value","onChange","e","target","ref","onMouseEnter","showErrorHint","onMouseLeave","console","log","a","initial","scale","y","x","onClick"],"sources":["C:/Users/denis/VSCode_projects/Pochinim.ru/client/pochinim.ru/src/components/SignInUp/phases/password-phase.js"],"sourcesContent":["import buttonsAnimations from \"../../../animations/buttons-animations\";\r\nimport textAnimations from \"../../../animations/text-animations\";\r\nimport USERController from \"../../../controllers/USER-controller\";\r\nimport {motion, useAnimate} from 'framer-motion'\r\n\r\nconst PasswordPhase = ({phase, setPhase, password, setPassword, name, setName, email, emailCode, errorInSingInUp, setErrorInSingInUp}) =>{\r\n\r\n    const [errorScope, animateError] = useAnimate();\r\n    const [errorRed, animateErrorRed] = useAnimate();\r\n\r\n    const click = async() =>{\r\n        if(emailCode == 0){\r\n            if(await USERController.logInUser(email, password)){\r\n                setErrorInSingInUp(null)\r\n                setPhase(phase + 1)\r\n            }else{\r\n                setErrorInSingInUp(\"Неверный пароль\")\r\n            }\r\n        }else{\r\n            if(await USERController.registrate(email, name, password)){\r\n                setErrorInSingInUp(null)\r\n                setPhase(phase + 1)\r\n            }else{\r\n                textAnimations.highlightErrorInput(\"#1C1C1C\", {errorRed, animateErrorRed})\r\n                setErrorInSingInUp(\"Неизвестная ошибка\")\r\n            }\r\n        }\r\n    };\r\n\r\n    return(<div className=\"inner-box\">\r\n        <div className=\"annotationReg\">\r\n            <h1>\r\n            Введите пароль\r\n            </h1>\r\n            <p>\r\n            </p>\r\n        </div>\r\n        <div className=\"input-field\">\r\n            <div className=\"inputAndError\">\r\n                <input type=\"text\" placeholder={'пароль'} value={password} onChange={e => setPassword(e.target.value)} ref={errorRed}></input>\r\n                {errorInSingInUp!=null?<div className=\"errorInSignInUp\"\r\n                onMouseEnter={() => buttonsAnimations.showErrorHint(1, {errorScope, animateError})}\r\n                onMouseLeave={() => buttonsAnimations.showErrorHint(0, {errorScope, animateError})}>\r\n                </div>: console.log(\"no_errors\")}\r\n                <motion.a className=\"errorRegMessage\" ref={errorScope} initial={{scale: 0, y: 40, x: 542}}>{errorInSingInUp}</motion.a>\r\n            </div>\r\n            {console.log(emailCode)}\r\n            {emailCode!=0?<input type=\"text\" placeholder={'ФИО'} value={name} onChange={e => setName(e.target.value)}></input>:<></>}\r\n        </div>\r\n        <button className=\"buttonNext\" onClick={click}>\r\n        Продолжить\r\n        </button>\r\n    </div>);\r\n}\r\n\r\nexport default PasswordPhase;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}