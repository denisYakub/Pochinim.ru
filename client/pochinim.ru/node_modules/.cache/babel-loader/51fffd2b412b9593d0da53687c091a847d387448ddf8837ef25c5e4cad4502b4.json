{"ast":null,"code":"import{Fragment,useEffect,useState}from\"react\";import masterController from\"../../controllers/MASTER-controller\";//import {Link} from \"react-router-dom\";\nimport MasterProfileCard from\"./MasterCard\";//const list = await masterController.getListOfMasters(0, 30);\nimport{jsx as _jsx}from\"react/jsx-runtime\";const ListOfMasters=async _ref=>{let{topic,setActivePop,setTextPop}=_ref;const[list,setList]=useState(await masterController.getListOfMasters(0,30));useEffect(()=>{var sortedList=[];if(list.length>0){list.forEach(el=>{for(const val of el){if(val[0].toLowerCase().includes(topic.toLowerCase())){sortedList.push(el);break;};}/*el?.sercicesAndPrice?.forEach(val => {\r\n                    if(val[0].toLowerCase().includes(topic.toLowerCase())){\r\n                        sortedList.push(el);\r\n                    };\r\n                });*/});if(sortedList.length>0){setList(sortedList);}}},[list,topic]);/*const checkTopic = (value) => {\r\n        var tf = false;\r\n        value.forEach(element => {\r\n            if(element[0].toLowerCase().includes(topic.toLowerCase())){\r\n                tf = true;\r\n            }\r\n        });\r\n        return tf;\r\n    }*/ /*return(list?.map((value, index) => {\r\n        if(checkTopic(value.sercicesAndPrice)){\r\n            return(<MasterProfileCard key={index} value={value}></MasterProfileCard>);\r\n        };\r\n    }));*/return/*#__PURE__*/_jsx(Fragment,{children:list===null||list===void 0?void 0:list.map(obj=>{return/*#__PURE__*/_jsx(MasterProfileCard,{value:obj,setActivePop:setActivePop,setTextPop:setTextPop});})});};export default ListOfMasters;","map":{"version":3,"names":["Fragment","useEffect","useState","masterController","MasterProfileCard","jsx","_jsx","ListOfMasters","_ref","topic","setActivePop","setTextPop","list","setList","getListOfMasters","sortedList","length","forEach","el","val","toLowerCase","includes","push","children","map","obj","value"],"sources":["C:/Users/denis/VSCode_projects/Pochinim.ru/client/pochinim.ru/src/components/CreateTopic/ListOfMasters.js"],"sourcesContent":["import { Fragment, useEffect, useState } from \"react\";\r\nimport masterController from \"../../controllers/MASTER-controller\";\r\n//import {Link} from \"react-router-dom\";\r\nimport MasterProfileCard from \"./MasterCard\";\r\n\r\n//const list = await masterController.getListOfMasters(0, 30);\r\n\r\nconst ListOfMasters = async ({topic, setActivePop, setTextPop}) => {\r\n    const [list, setList] = useState(await masterController.getListOfMasters(0, 30));\r\n\r\n    useEffect(() => {\r\n        var sortedList = [];\r\n\r\n        if(list.length > 0){\r\n            list.forEach(el => {\r\n                for (const val of el){\r\n                    if(val[0].toLowerCase().includes(topic.toLowerCase())){\r\n                        sortedList.push(el);\r\n                        break;\r\n                    };\r\n                }\r\n                /*el?.sercicesAndPrice?.forEach(val => {\r\n                    if(val[0].toLowerCase().includes(topic.toLowerCase())){\r\n                        sortedList.push(el);\r\n                    };\r\n                });*/\r\n            });\r\n\r\n            if(sortedList.length > 0){\r\n                setList(sortedList); \r\n            }   \r\n        }\r\n    }, [list, topic]);\r\n\r\n    /*const checkTopic = (value) => {\r\n        var tf = false;\r\n        value.forEach(element => {\r\n            if(element[0].toLowerCase().includes(topic.toLowerCase())){\r\n                tf = true;\r\n            }\r\n        });\r\n        return tf;\r\n    }*/   \r\n\r\n    /*return(list?.map((value, index) => {\r\n        if(checkTopic(value.sercicesAndPrice)){\r\n            return(<MasterProfileCard key={index} value={value}></MasterProfileCard>);\r\n        };\r\n    }));*/\r\n    return(<Fragment>\r\n        {list?.map(obj => {\r\n            return(<MasterProfileCard value={obj} setActivePop={setActivePop} setTextPop={setTextPop}/>)\r\n        })}\r\n    </Fragment>)\r\n}\r\n\r\nexport default ListOfMasters;"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACrD,MAAO,CAAAC,gBAAgB,KAAM,qCAAqC,CAClE;AACA,MAAO,CAAAC,iBAAiB,KAAM,cAAc,CAE5C;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBAEA,KAAM,CAAAC,aAAa,CAAG,MAAAC,IAAA,EAA6C,IAAtC,CAACC,KAAK,CAAEC,YAAY,CAAEC,UAAU,CAAC,CAAAH,IAAA,CAC1D,KAAM,CAACI,IAAI,CAAEC,OAAO,CAAC,CAAGX,QAAQ,CAAC,KAAM,CAAAC,gBAAgB,CAACW,gBAAgB,CAAC,CAAC,CAAE,EAAE,CAAC,CAAC,CAEhFb,SAAS,CAAC,IAAM,CACZ,GAAI,CAAAc,UAAU,CAAG,EAAE,CAEnB,GAAGH,IAAI,CAACI,MAAM,CAAG,CAAC,CAAC,CACfJ,IAAI,CAACK,OAAO,CAACC,EAAE,EAAI,CACf,IAAK,KAAM,CAAAC,GAAG,GAAI,CAAAD,EAAE,CAAC,CACjB,GAAGC,GAAG,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACZ,KAAK,CAACW,WAAW,CAAC,CAAC,CAAC,CAAC,CAClDL,UAAU,CAACO,IAAI,CAACJ,EAAE,CAAC,CACnB,MACJ,CAAC,CACL,CACA;AAChB;AACA;AACA;AACA,qBACY,CAAC,CAAC,CAEF,GAAGH,UAAU,CAACC,MAAM,CAAG,CAAC,CAAC,CACrBH,OAAO,CAACE,UAAU,CAAC,CACvB,CACJ,CACJ,CAAC,CAAE,CAACH,IAAI,CAAEH,KAAK,CAAC,CAAC,CAEjB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OARI,CAUA;AACJ;AACA;AACA;AACA,UACI,mBAAOH,IAAA,CAACN,QAAQ,EAAAuB,QAAA,CACXX,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEY,GAAG,CAACC,GAAG,EAAI,CACd,mBAAOnB,IAAA,CAACF,iBAAiB,EAACsB,KAAK,CAAED,GAAI,CAACf,YAAY,CAAEA,YAAa,CAACC,UAAU,CAAEA,UAAW,CAAC,CAAC,CAC/F,CAAC,CAAC,CACI,CAAC,CACf,CAAC,CAED,cAAe,CAAAJ,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}