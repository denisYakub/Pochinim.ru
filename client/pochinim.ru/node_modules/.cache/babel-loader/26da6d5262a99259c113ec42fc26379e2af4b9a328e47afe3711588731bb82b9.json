{"ast":null,"code":"import{useNavigate}from'react-router-dom';import\"../Navigation/Navigation.css\";import{Fragment,useContext,useEffect,useState}from'react';import USERController from'../../controllers/USER-controller';import{contextLocation}from'../../contexts/contextLocation';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=()=>{const navigate=useNavigate();const[auth,setAuth]=useState(null);const[search,setSearch]=useState(\"\");const{locations,location,setLocation,cities,city,setCity}=useContext(contextLocation);async function getAuth(){if(await USERController.checkForAccess()){setAuth(localStorage.getItem('mail'));}else{setAuth(null);}}useEffect(()=>{setTimeout(()=>{getAuth();},10);},[navigate]);const submitSearch=e=>{e.preventDefault();navigate('/Search',{replace:true,state:{search}});};const selectMasterHandler=val=>{if(val==1){}else if(val==2){navigate('/SignInUpAsMaster');}};const selectLocationHandler=val=>{setLocation(locations[val]);setCity(cities[val]);console.log(city);console.log(location);};return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"nav\",{className:\"nav\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inner-nav\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rightPartOfNav\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"siteLogo\",children:\".\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>selectLocationHandler(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:0,children:\"\\u041C\\u043E\\u0441\\u043A\\u0432\\u0430\"}),/*#__PURE__*/_jsx(\"option\",{value:1,children:\"\\u0421\\u0430\\u043D\\u043A\\u0442-\\u041F\\u0435\\u0442\\u0435\\u0440\\u0431\\u0443\\u0440\\u0433\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"leftPartOfNav\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/MyOrders/\".concat(auth),children:\"\\u041C\\u043E\\u0438 \\u0437\\u0430\\u043A\\u0430\\u0437\\u044B\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"\\u0424\\u043E\\u0440\\u0443\\u043C \"}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>selectMasterHandler(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"\\u0421\\u043F\\u0435\\u0446\\u0438\\u0430\\u043B\\u0438\\u0441\\u0442\\u0430\\u043C\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"\\u0420\\u0435\\u0433\\u0435\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:submitSearch,children:/*#__PURE__*/_jsx(\"input\",{className:\"navInput\",onChange:e=>setSearch(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"acc\",children:auth?/*#__PURE__*/_jsx(\"a\",{href:\"/UserProfile/\".concat(auth),children:auth}):/*#__PURE__*/_jsx(\"a\",{href:\"/SignInUp\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})})]})]})})});};export default Navbar;","map":{"version":3,"names":["useNavigate","Fragment","useContext","useEffect","useState","USERController","contextLocation","jsx","_jsx","jsxs","_jsxs","Navbar","navigate","auth","setAuth","search","setSearch","locations","location","setLocation","cities","city","setCity","getAuth","checkForAccess","localStorage","getItem","setTimeout","submitSearch","e","preventDefault","replace","state","selectMasterHandler","val","selectLocationHandler","console","log","children","className","href","onChange","target","value","concat","onSubmit"],"sources":["C:/Users/denis/VSCode_projects/Pochinim.ru/client/pochinim.ru/src/components/Navigation/NavigationBar.js"],"sourcesContent":["import { useNavigate } from 'react-router-dom'\r\nimport \"../Navigation/Navigation.css\"\r\nimport { Fragment, useContext, useEffect, useState } from 'react';\r\nimport USERController from '../../controllers/USER-controller';\r\nimport { contextLocation } from '../../contexts/contextLocation';\r\n\r\nconst Navbar = () => {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const [auth, setAuth] = useState(null)\r\n    const [search, setSearch] = useState(\"\")\r\n\r\n    const { locations, location, setLocation, cities, city, setCity } = useContext(contextLocation);\r\n    \r\n    async function getAuth() {\r\n        if(await USERController.checkForAccess()){\r\n            setAuth(localStorage.getItem('mail'));\r\n        }else{\r\n            setAuth(null);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            getAuth();\r\n        }, 10);\r\n\r\n    },[navigate])\r\n\r\n    const submitSearch = e => {\r\n        e.preventDefault()\r\n        navigate('/Search', {replace: true, state:{search}})\r\n    }\r\n\r\n    const selectMasterHandler = (val) =>{\r\n        if(val == 1){\r\n\r\n        }else if(val == 2){\r\n            navigate('/SignInUpAsMaster');\r\n        }\r\n    };\r\n\r\n    const selectLocationHandler = (val) =>{\r\n        setLocation(locations[val]);\r\n        setCity(cities[val]);\r\n        console.log(city);\r\n        console.log(location);\r\n    };\r\n    \r\n    return (<Fragment>\r\n        <nav className=\"nav\">\r\n        <div className=\"inner-nav\">\r\n            <div className=\"rightPartOfNav\">\r\n                <a href='/' className='siteLogo'>.</a>\r\n                <select onChange={e => selectLocationHandler(e.target.value)}>\r\n                    <option value={0}>Москва</option>\r\n                    <option value={1}>Санкт-Петербург</option>\r\n                </select>\r\n            </div>\r\n            <div className=\"leftPartOfNav\">\r\n                <a href={`/MyOrders/${auth}`}>Мои заказы</a>\r\n                <a href='/'>Форум </a>\r\n                <select onChange={e => selectMasterHandler(e.target.value)}>\r\n                    <option value={1}>Специалистам</option>\r\n                    <option value={2}>Регестрация</option>\r\n                </select>\r\n                <form onSubmit={submitSearch}>\r\n                    <input className='navInput' onChange={e => setSearch(e.target.value)}></input>\r\n                </form>\r\n                <div className='acc'>\r\n                    {auth? <a href={`/UserProfile/${auth}`}>{auth}</a> : <a href='/SignInUp'>Войти</a>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </nav>\r\n    </Fragment>);\r\n};\r\n\r\nexport default Navbar"],"mappings":"AAAA,OAASA,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,8BAA8B,CACrC,OAASC,QAAQ,CAAEC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACjE,MAAO,CAAAC,cAAc,KAAM,mCAAmC,CAC9D,OAASC,eAAe,KAAQ,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjE,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CAEjB,KAAM,CAAAC,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9B,KAAM,CAACa,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACW,MAAM,CAAEC,SAAS,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAExC,KAAM,CAAEa,SAAS,CAAEC,QAAQ,CAAEC,WAAW,CAAEC,MAAM,CAAEC,IAAI,CAAEC,OAAQ,CAAC,CAAGpB,UAAU,CAACI,eAAe,CAAC,CAE/F,cAAe,CAAAiB,OAAOA,CAAA,CAAG,CACrB,GAAG,KAAM,CAAAlB,cAAc,CAACmB,cAAc,CAAC,CAAC,CAAC,CACrCV,OAAO,CAACW,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CACzC,CAAC,IAAI,CACDZ,OAAO,CAAC,IAAI,CAAC,CACjB,CACJ,CAEAX,SAAS,CAAC,IAAM,CACZwB,UAAU,CAAC,IAAM,CACbJ,OAAO,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEV,CAAC,CAAC,CAACX,QAAQ,CAAC,CAAC,CAEb,KAAM,CAAAgB,YAAY,CAAGC,CAAC,EAAI,CACtBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBlB,QAAQ,CAAC,SAAS,CAAE,CAACmB,OAAO,CAAE,IAAI,CAAEC,KAAK,CAAC,CAACjB,MAAM,CAAC,CAAC,CAAC,CACxD,CAAC,CAED,KAAM,CAAAkB,mBAAmB,CAAIC,GAAG,EAAI,CAChC,GAAGA,GAAG,EAAI,CAAC,CAAC,CAEZ,CAAC,IAAK,IAAGA,GAAG,EAAI,CAAC,CAAC,CACdtB,QAAQ,CAAC,mBAAmB,CAAC,CACjC,CACJ,CAAC,CAED,KAAM,CAAAuB,qBAAqB,CAAID,GAAG,EAAI,CAClCf,WAAW,CAACF,SAAS,CAACiB,GAAG,CAAC,CAAC,CAC3BZ,OAAO,CAACF,MAAM,CAACc,GAAG,CAAC,CAAC,CACpBE,OAAO,CAACC,GAAG,CAAChB,IAAI,CAAC,CACjBe,OAAO,CAACC,GAAG,CAACnB,QAAQ,CAAC,CACzB,CAAC,CAED,mBAAQV,IAAA,CAACP,QAAQ,EAAAqC,QAAA,cACb9B,IAAA,QAAK+B,SAAS,CAAC,KAAK,CAAAD,QAAA,cACpB5B,KAAA,QAAK6B,SAAS,CAAC,WAAW,CAAAD,QAAA,eACtB5B,KAAA,QAAK6B,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC3B9B,IAAA,MAAGgC,IAAI,CAAC,GAAG,CAACD,SAAS,CAAC,UAAU,CAAAD,QAAA,CAAC,GAAC,CAAG,CAAC,cACtC5B,KAAA,WAAQ+B,QAAQ,CAAEZ,CAAC,EAAIM,qBAAqB,CAACN,CAAC,CAACa,MAAM,CAACC,KAAK,CAAE,CAAAL,QAAA,eACzD9B,IAAA,WAAQmC,KAAK,CAAE,CAAE,CAAAL,QAAA,CAAC,sCAAM,CAAQ,CAAC,cACjC9B,IAAA,WAAQmC,KAAK,CAAE,CAAE,CAAAL,QAAA,CAAC,uFAAe,CAAQ,CAAC,EACtC,CAAC,EACR,CAAC,cACN5B,KAAA,QAAK6B,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC1B9B,IAAA,MAAGgC,IAAI,cAAAI,MAAA,CAAe/B,IAAI,CAAG,CAAAyB,QAAA,CAAC,yDAAU,CAAG,CAAC,cAC5C9B,IAAA,MAAGgC,IAAI,CAAC,GAAG,CAAAF,QAAA,CAAC,iCAAM,CAAG,CAAC,cACtB5B,KAAA,WAAQ+B,QAAQ,CAAEZ,CAAC,EAAII,mBAAmB,CAACJ,CAAC,CAACa,MAAM,CAACC,KAAK,CAAE,CAAAL,QAAA,eACvD9B,IAAA,WAAQmC,KAAK,CAAE,CAAE,CAAAL,QAAA,CAAC,0EAAY,CAAQ,CAAC,cACvC9B,IAAA,WAAQmC,KAAK,CAAE,CAAE,CAAAL,QAAA,CAAC,oEAAW,CAAQ,CAAC,EAClC,CAAC,cACT9B,IAAA,SAAMqC,QAAQ,CAAEjB,YAAa,CAAAU,QAAA,cACzB9B,IAAA,UAAO+B,SAAS,CAAC,UAAU,CAACE,QAAQ,CAAEZ,CAAC,EAAIb,SAAS,CAACa,CAAC,CAACa,MAAM,CAACC,KAAK,CAAE,CAAQ,CAAC,CAC5E,CAAC,cACPnC,IAAA,QAAK+B,SAAS,CAAC,KAAK,CAAAD,QAAA,CACfzB,IAAI,cAAEL,IAAA,MAAGgC,IAAI,iBAAAI,MAAA,CAAkB/B,IAAI,CAAG,CAAAyB,QAAA,CAAEzB,IAAI,CAAI,CAAC,cAAGL,IAAA,MAAGgC,IAAI,CAAC,WAAW,CAAAF,QAAA,CAAC,gCAAK,CAAG,CAAC,CACjF,CAAC,EACL,CAAC,EACL,CAAC,CACD,CAAC,CACA,CAAC,CACf,CAAC,CAED,cAAe,CAAA3B,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}