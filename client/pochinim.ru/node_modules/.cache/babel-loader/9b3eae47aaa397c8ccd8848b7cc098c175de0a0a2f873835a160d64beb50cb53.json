{"ast":null,"code":"import { makeAutoObservable } from \"mobx\";\nimport masterServices from \"../services/master-services\";\nimport masterPhoto from '../img/masterPhoto.png';\nclass MasterController {\n  constructor() {\n    makeAutoObservable(this);\n  }\n  async checkMasterInBd(email) {\n    return false;\n  }\n  async registrate(fio, occupation, workingFrom, location, selectedOptionsLocation, email, photo, password, city) {\n    var selectedOptionsLocationStr = [];\n    for (const obj of selectedOptionsLocation) {\n      selectedOptionsLocationStr.push(obj.label);\n    }\n    console.log(JSON.stringify(selectedOptionsLocationStr).replace('[', '{').replace(']', '}'));\n    const id_master = await masterServices.registrate(fio, occupation, workingFrom, location, JSON.stringify(selectedOptionsLocationStr).replace('[', '{').replace(']', '}'), email, password, city);\n    const ret = await masterServices.setMasterPhoto(id_master, photo);\n    if (id_master !== null && id_master !== void 0 && id_master.message || ret !== null && ret !== void 0 && ret.message) {\n      return false;\n    }\n    return true;\n  }\n  async getReviewsById(id) {}\n  async getWholeInfById(id) {\n    const photo = masterPhoto;\n    const fio = \"Антон Горячев\";\n    const stars = \"4,8\";\n    const reviewsCount = 297;\n    return {\n      \"photo\": masterPhoto,\n      \"fio\": \"Антон Горячев\",\n      \"stars\": \"4,8\",\n      \"reviewsCount\": 297,\n      \"aboutMe\": \"Здравствуйте. Произвожу комплекс работ по сантехнике и электрике. От замены санфаянса, розеток, выключателей до прокладки коммуникаций. Буду рад вам помочь.\",\n      \"experience\": null,\n      \"education\": null\n    };\n  }\n  async getListOfMasters(from, to) {\n    const masters = await masterServices.getListOfMasters(from, to);\n    var fin = [];\n    masters.map(async obj => {\n      fin.push({\n        'id': obj.id,\n        'fio': obj.fio,\n        'photo_path': obj.photo_path,\n        'stars': obj.stars,\n        'reviewsCount': obj.reviewsCount,\n        'aboutMe': obj.aboutMe,\n        'experience': obj.experience,\n        'education': obj.education,\n        'sercicesAndPrice': obj.sercicesAndPrice,\n        'reviews': obj.reviews\n      });\n    });\n    return fin;\n  }\n  async getMasterPhotoByPath(path) {\n    const photo = await masterServices.getMasterPhoto(path);\n    return photo;\n  }\n}\n;\nconst masterController = new MasterController();\nexport default masterController;","map":{"version":3,"names":["makeAutoObservable","masterServices","masterPhoto","MasterController","constructor","checkMasterInBd","email","registrate","fio","occupation","workingFrom","location","selectedOptionsLocation","photo","password","city","selectedOptionsLocationStr","obj","push","label","console","log","JSON","stringify","replace","id_master","ret","setMasterPhoto","message","getReviewsById","id","getWholeInfById","stars","reviewsCount","getListOfMasters","from","to","masters","fin","map","photo_path","aboutMe","experience","education","sercicesAndPrice","reviews","getMasterPhotoByPath","path","getMasterPhoto","masterController"],"sources":["C:/Users/denis/VSCode_projects/Pochinim.ru/client/pochinim.ru/src/controllers/MASTER-controller.js"],"sourcesContent":["import {makeAutoObservable} from \"mobx\"\r\nimport masterServices from \"../services/master-services\";\r\nimport masterPhoto from '../img/masterPhoto.png';\r\n\r\nclass MasterController{\r\n    constructor(){\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    async checkMasterInBd(email){\r\n        return false;\r\n    }\r\n\r\n    async registrate(fio, occupation, workingFrom, location, selectedOptionsLocation, \r\n                        email, photo, password, city){\r\n\r\n        var selectedOptionsLocationStr = [];\r\n\r\n        for (const obj of selectedOptionsLocation){\r\n            selectedOptionsLocationStr.push(obj.label)\r\n        }\r\n\r\n        console.log(JSON.stringify(selectedOptionsLocationStr).replace('[', '{').replace(']', '}'));\r\n\r\n        const id_master = await masterServices.registrate(fio, occupation, workingFrom, location, \r\n            JSON.stringify(selectedOptionsLocationStr).replace('[', '{').replace(']', '}'), \r\n            email, password, city);\r\n        \r\n        const ret = await masterServices.setMasterPhoto(id_master, photo);\r\n        \r\n        if(id_master?.message || ret?.message){\r\n            return false;\r\n        }  \r\n        return true;\r\n    }\r\n\r\n    async getReviewsById(id){\r\n        \r\n    }\r\n\r\n    async getWholeInfById(id){\r\n\r\n        const photo = masterPhoto;\r\n        const fio = \"Антон Горячев\";\r\n        const stars = \"4,8\";\r\n        const reviewsCount = 297;\r\n\r\n        return {\"photo\": masterPhoto, \"fio\": \"Антон Горячев\", \"stars\": \"4,8\", \"reviewsCount\": 297, \"aboutMe\": \"Здравствуйте. Произвожу комплекс работ по сантехнике и электрике. От замены санфаянса, розеток, выключателей до прокладки коммуникаций. Буду рад вам помочь.\",\r\n                \"experience\": null, \"education\": null };\r\n    }\r\n\r\n    async getListOfMasters(from, to){\r\n\r\n        const masters = await masterServices.getListOfMasters(from, to);\r\n    \r\n        var fin = [];\r\n\r\n        masters.map(async obj => {\r\n            fin.push({\r\n                'id': obj.id,\r\n                'fio': obj.fio,\r\n                'photo_path': obj.photo_path,\r\n                'stars': obj.stars,\r\n                'reviewsCount': obj.reviewsCount,\r\n                'aboutMe': obj.aboutMe,\r\n                'experience': obj.experience,\r\n                'education': obj.education,\r\n                'sercicesAndPrice': obj.sercicesAndPrice,\r\n                'reviews': obj.reviews,\r\n            })\r\n        })\r\n        \r\n        return fin;\r\n    }\r\n\r\n    async getMasterPhotoByPath(path){\r\n        const photo = await masterServices.getMasterPhoto(path);\r\n\r\n        return photo;\r\n    }\r\n};\r\n\r\nconst masterController = new MasterController();\r\n\r\nexport default masterController;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}