{"ast":null,"code":"import{useState,useEffect}from'react';import loadPhotoIcon from'../../../../img/edit-img.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const DetailsEnter=_ref=>{var _Array$from;let{TOPIC}=_ref;const[detailsText,setDetailsText]=useState(TOPIC.detailsText);const[detailsFiles,setDetailsFiles]=useState(TOPIC.detailsFiles);const[error,setError]=useState(false);useEffect(()=>{try{TOPIC.detailsText=detailsText;TOPIC.detailsFiles=detailsFiles;}catch(error){console.log(error);detailsText('');setDetailsFiles('');setError(true);setTimeout(()=>{setError(false);},5000);}},[detailsText,detailsFiles]);return/*#__PURE__*/_jsxs(\"div\",{className:\"createTopic-phase\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"createTopic-phase-annotation\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"9/9\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\u041E\\u0441\\u0442\\u0430\\u043B\\u0438\\u0441\\u044C \\u043F\\u043E\\u0436\\u0435\\u043B\\u0430\\u043D\\u0438\\u044F \\u043A \\u0437\\u0430\\u043A\\u0430\\u0437\\u0443?\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"createTopic-details-text-photo\",children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u0412\\u0430\\u0436\\u043D\\u044B\\u0435 \\u0434\\u0435\\u0442\\u0430\\u043B\\u0438 \\u0434\\u043B\\u044F \\u0441\\u043F\\u0435\\u0446\\u0438\\u043B\\u0438\\u0441\\u0442\\u0430, \\u043E \\u043A\\u043E\\u0442\\u043E\\u0440\\u044B\\u0445 \\u043C\\u044B \\u043D\\u0435 \\u0441\\u043F\\u0440\\u043E\\u0441\\u0438\\u043B\\u0438\",onChange:e=>setDetailsText(e.target.value)}),/*#__PURE__*/_jsx(\"div\",{className:\"topic-photos\",children:detailsFiles!=null?(_Array$from=Array.from(detailsFiles))===null||_Array$from===void 0?void 0:_Array$from.map(file=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"topic-photo\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"photo\",src:URL.createObjectURL(file),alt:\"your file\"}),file.name,\";\"]});}):null}),/*#__PURE__*/_jsxs(\"div\",{className:\"createTopic-details-photo-choose\",onClick:()=>document.querySelector(\".photo-input\").click(),children:[/*#__PURE__*/_jsx(\"img\",{src:loadPhotoIcon,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C/\\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0444\\u0430\\u0439\\u043B \\u0438\\u043B\\u0438 \\u0444\\u043E\\u0442\\u043E\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".jpg,.jpeg,.png\",multiple:true,hidden:true,className:\"photo-input\",onChange:e=>setDetailsFiles(e.target.files)})]})]})]});};export default DetailsEnter;","map":{"version":3,"names":["useState","useEffect","loadPhotoIcon","jsx","_jsx","jsxs","_jsxs","DetailsEnter","_ref","_Array$from","TOPIC","detailsText","setDetailsText","detailsFiles","setDetailsFiles","error","setError","console","log","setTimeout","className","children","placeholder","onChange","e","target","value","Array","from","map","file","src","URL","createObjectURL","alt","name","onClick","document","querySelector","click","type","accept","multiple","hidden","files"],"sources":["C:/Users/denis/VSCode_projects/Pochinim.ru/client/pochinim.ru/src/components/Pages/CreateTopic/phases/DetailsEnter.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport loadPhotoIcon from '../../../../img/edit-img.png';\r\n\r\nconst DetailsEnter = ({TOPIC}) => {\r\n    const [detailsText, setDetailsText] = useState(TOPIC.detailsText);\r\n    const [detailsFiles, setDetailsFiles] = useState(TOPIC.detailsFiles);\r\n    const [error, setError] = useState(false);\r\n\r\n    useEffect(()=>{\r\n        try {\r\n            TOPIC.detailsText = detailsText;\r\n            TOPIC.detailsFiles = detailsFiles;\r\n        } catch (error) {\r\n            console.log(error);\r\n            detailsText('');\r\n            setDetailsFiles('');\r\n            setError(true);\r\n            setTimeout(()=>{\r\n                setError(false);\r\n            }, 5000);\r\n        }\r\n        \r\n    },[detailsText, detailsFiles])\r\n\r\n    return(<div className=\"createTopic-phase\">\r\n        <div className='createTopic-phase-annotation'>\r\n            <p>9/9</p>\r\n            <h1>Остались пожелания к заказу?</h1>\r\n        </div>\r\n        <div className=\"createTopic-details-text-photo\">\r\n            <textarea placeholder=\"Важные детали для специлиста, о которых мы не спросили\" onChange={e => setDetailsText(e.target.value)}></textarea>\r\n            <div className=\"topic-photos\">\r\n                {detailsFiles!=null?Array.from(detailsFiles)?.map((file)=> {\r\n                    return(\r\n                    <div className=\"topic-photo\">\r\n                        <img className=\"photo\" src={URL.createObjectURL(file)} alt=\"your file\"></img>\r\n                        {file.name};\r\n                    </div>\r\n                )}):null}\r\n            </div>\r\n            <div className=\"createTopic-details-photo-choose\" onClick={() => document.querySelector(\".photo-input\").click()}>\r\n                <img src={loadPhotoIcon} alt=\"\"></img>\r\n                <p>Добавить/удалить файл или фото</p>\r\n                <input type=\"file\" accept=\".jpg,.jpeg,.png\" multiple={true} hidden={true} \r\n                className=\"photo-input\"\r\n                onChange={e => setDetailsFiles(e.target.files)}></input>\r\n            </div>\r\n        </div>\r\n    </div>)\r\n}\r\n\r\nexport default DetailsEnter;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}