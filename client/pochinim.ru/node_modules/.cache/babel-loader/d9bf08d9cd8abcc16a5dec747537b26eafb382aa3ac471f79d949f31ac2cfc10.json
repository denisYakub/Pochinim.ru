{"ast":null,"code":"import{Fragment,useEffect,useState,useContext}from'react';import{useNavigate}from'react-router-dom';import'./SignUpAsMaster.css';import MasterFIOEnter from\"./phases/FIOEnter\";import MasterOccupationEnter from\"./phases/OccupationEnter\";import MasterLocationEnter from\"./phases/LocationEnter\";import MasterEmailEnter from\"./phases/EmailEnter\";import MasterPhotoEnter from\"./phases/PhotoEnter\";import MasterPasswordEnter from\"./phases/PasswordEnter\";import Loader from'../../Loader/Loader';import userController from'../../../controllers/USER-controller';import masterController from'../../../controllers/MASTER-controller';import{contextLocation}from'../../../contexts/contextLocation';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SignUpMaster=()=>{const{city}=useContext(contextLocation);const[step,setStep]=useState(0);const[fio,setFio]=useState([\"\",\"\",\"\"]);const[occupation,setOccupation]=useState(\"\");const[workingFrom,setWorkingFrom]=useState(0);const[address,setAddress]=useState(\"\");const[selectedOptionsLocation,setSelectedOptionsLocation]=useState(null);const[email,setEmail]=useState(\"\");const[codeConf,setcodeConf]=useState(false);const[photo,setPhoto]=useState(null);const[password,setPassword]=useState(\"\");const[code,setcode]=useState(\"\");const[sendCode,setSendCode]=useState(\"\");const[showLoader,setShowLoader]=useState(false);const navigate=useNavigate();const comps=[/*#__PURE__*/_jsx(MasterFIOEnter,{fio:fio,setFio:setFio}),/*#__PURE__*/_jsx(MasterOccupationEnter,{occupation:occupation,setOccupation:setOccupation}),/*#__PURE__*/_jsx(MasterLocationEnter,{workingFrom:workingFrom,setWorkingFrom:setWorkingFrom,address:address,setAddress:setAddress,selectedOptionsLocation:selectedOptionsLocation,setSelectedOptionsLocation:setSelectedOptionsLocation}),/*#__PURE__*/_jsx(MasterEmailEnter,{email:email,setEmail:setEmail,codeConf:codeConf,setCodeConf:setcodeConf,code:code,setCode:setcode,sendCode:sendCode,setSendCode:setSendCode}),/*#__PURE__*/_jsx(MasterPhotoEnter,{photo:photo,setPhoto:setPhoto,FIO:fio}),/*#__PURE__*/_jsx(MasterPasswordEnter,{password:password,setPassword:setPassword})];const move=async incr=>{const ntStep=step+incr;switch(step){case 0:if(fio[0]!=\"\"&&fio[1]!=\"\"){setStep(ntStep);}break;case 1:if(occupation!=\"\"){setStep(ntStep);}break;case 2:if(workingFrom!=0&&(address!=\"\"||selectedOptionsLocation!=null)){setStep(ntStep);}break;case 3:if(email!=\"\"&&code!=\"\"){if(code==sendCode){setStep(ntStep);setcodeConf(false);}}break;case 4:if(photo!=null){setStep(ntStep);}break;case 5:if(password!=\"\"){await masterController.registrate(fio,occupation,workingFrom,address,selectedOptionsLocation,email,photo,password,city);setStep(ntStep);}break;default:navigate('/');break;}};useEffect(()=>{},[step]);return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"SignUpMaster\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inner-SignUpMaster\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"go-back-button\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"back-icon\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>move(-1),className:\"back-button\",children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"phases-wrapper\",children:[comps[step],/*#__PURE__*/_jsx(\"button\",{onClick:()=>move(1),className:\"continue-button\",children:\"\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u044C\"})]})]})}),/*#__PURE__*/_jsx(Loader,{showLoader:showLoader,setShowLoader:setShowLoader,text:\"Проверяем код\"})]});};export default SignUpMaster;","map":{"version":3,"names":["Fragment","useEffect","useState","useContext","useNavigate","MasterFIOEnter","MasterOccupationEnter","MasterLocationEnter","MasterEmailEnter","MasterPhotoEnter","MasterPasswordEnter","Loader","userController","masterController","contextLocation","jsx","_jsx","jsxs","_jsxs","SignUpMaster","city","step","setStep","fio","setFio","occupation","setOccupation","workingFrom","setWorkingFrom","address","setAddress","selectedOptionsLocation","setSelectedOptionsLocation","email","setEmail","codeConf","setcodeConf","photo","setPhoto","password","setPassword","code","setcode","sendCode","setSendCode","showLoader","setShowLoader","navigate","comps","setCodeConf","setCode","FIO","move","incr","ntStep","registrate","children","className","onClick","text"],"sources":["C:/Users/denis/VSCode_projects/Pochinim.ru/client/pochinim.ru/src/components/Pages/SignUpAsMaster/SignUpAsMaster.js"],"sourcesContent":["import { Fragment, useEffect, useState, useContext } from 'react';\r\nimport { useNavigate } from 'react-router-dom'\r\nimport './SignUpAsMaster.css';\r\nimport MasterFIOEnter from \"./phases/FIOEnter\";\r\nimport MasterOccupationEnter from \"./phases/OccupationEnter\";\r\nimport MasterLocationEnter from \"./phases/LocationEnter\";\r\nimport MasterEmailEnter from \"./phases/EmailEnter\";\r\nimport MasterPhotoEnter from \"./phases/PhotoEnter\";\r\nimport MasterPasswordEnter from \"./phases/PasswordEnter\";\r\nimport Loader from '../../Loader/Loader';\r\nimport userController from '../../../controllers/USER-controller';\r\nimport masterController from '../../../controllers/MASTER-controller';\r\nimport { contextLocation } from '../../../contexts/contextLocation';\r\n\r\nconst SignUpMaster = () => {\r\n\r\n    const { city } = useContext(contextLocation);\r\n\r\n    const [step, setStep] = useState(0);\r\n\r\n    const [fio, setFio] = useState([\"\", \"\", \"\"]);\r\n    const [occupation, setOccupation] = useState(\"\");\r\n    const [workingFrom, setWorkingFrom] = useState(0);\r\n    const [address, setAddress] = useState(\"\");\r\n    const [selectedOptionsLocation, setSelectedOptionsLocation] = useState(null);\r\n    const [email, setEmail] = useState(\"\");\r\n    const [codeConf, setcodeConf] = useState(false);\r\n    const [photo, setPhoto] = useState(null);\r\n    const [password, setPassword] = useState(\"\");\r\n    const [code, setcode] = useState(\"\");\r\n    const [sendCode, setSendCode] = useState(\"\");\r\n\r\n    const [showLoader, setShowLoader] = useState(false);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const comps = [<MasterFIOEnter fio={fio} setFio={setFio}></MasterFIOEnter>, \r\n\r\n                    <MasterOccupationEnter occupation={occupation} setOccupation={setOccupation}></MasterOccupationEnter>,\r\n\r\n                    <MasterLocationEnter workingFrom={workingFrom} setWorkingFrom={setWorkingFrom}\r\n                                            address={address} setAddress={setAddress}\r\n                                            selectedOptionsLocation={selectedOptionsLocation} setSelectedOptionsLocation={setSelectedOptionsLocation}></MasterLocationEnter>, \r\n\r\n                    <MasterEmailEnter email={email} setEmail={setEmail}\r\n                                        codeConf={codeConf} setCodeConf={setcodeConf}\r\n                                        code={code} setCode={setcode}\r\n                                        sendCode={sendCode} setSendCode={setSendCode}></MasterEmailEnter>, \r\n\r\n                    <MasterPhotoEnter photo={photo} setPhoto={setPhoto}\r\n                                        FIO={fio}></MasterPhotoEnter>,\r\n                    <MasterPasswordEnter password={password} setPassword={setPassword}></MasterPasswordEnter>]\r\n\r\n    const move = async (incr) => {\r\n        const ntStep = step + incr;\r\n        switch (step) {\r\n            case 0:\r\n                if(fio[0] != \"\" && fio[1] != \"\"){\r\n                    setStep(ntStep);\r\n                }\r\n                break;\r\n            case 1:\r\n                if(occupation != \"\"){\r\n                    setStep(ntStep);\r\n                }\r\n                break;\r\n            case 2:\r\n                if(workingFrom != 0 && (address != \"\"|| selectedOptionsLocation != null)){\r\n                    setStep(ntStep);\r\n                }\r\n                break;\r\n            case 3:\r\n                if(email != \"\" && code != \"\"){\r\n                    if(code == sendCode){\r\n                        setStep(ntStep);\r\n                        setcodeConf(false);\r\n                    }\r\n                }\r\n                break;\r\n            case 4:\r\n                if(photo != null){\r\n                    setStep(ntStep);\r\n                }\r\n                break;\r\n            case 5:\r\n                if(password != \"\"){\r\n                    await masterController.registrate(fio, occupation, workingFrom, address, selectedOptionsLocation, \r\n                        email, photo, password, city);\r\n                    setStep(ntStep);\r\n                }\r\n                break;\r\n            default:\r\n                navigate('/');\r\n                break;\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n\r\n    }, [step])\r\n\r\n    return(<Fragment>\r\n        <div className='SignUpMaster'>\r\n            <div className='inner-SignUpMaster'>\r\n                <div className='go-back-button'>\r\n                    <div className='back-icon'></div>\r\n                    <button onClick={() => move(-1)} className='back-button'>Назад</button>\r\n                </div>\r\n                <div className='phases-wrapper'>\r\n                    {comps[step]}\r\n                    <button onClick={() => move(1)} className='continue-button'>Продолжить</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <Loader showLoader={showLoader} setShowLoader={setShowLoader} text={\"Проверяем код\"}></Loader>\r\n    </Fragment>);\r\n};\r\n\r\nexport default SignUpMaster;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}