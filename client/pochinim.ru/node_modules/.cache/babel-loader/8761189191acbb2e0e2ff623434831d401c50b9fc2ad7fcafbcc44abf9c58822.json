{"ast":null,"code":"import{useState,useEffect}from\"react\";import topicController from'../../../../controllers/TOPIC-controller';import InputWithError from'../../../../animations/input-error-field';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const optionsOfWhereIsProblem=await topicController.getListofWhereIsProblem();const ProblemLocationEnter=_ref=>{let{TOPIC}=_ref;const[localProblemLocation,setLocalProblemLocation]=useState(\"\");const[problemLocation,setProblemLocation]=useState(TOPIC.problemLocation);const[error,setError]=useState(false);const[warning,setWarning]=useState(false);useEffect(()=>{try{TOPIC.problemLocation=problemLocation;}catch(error){if(error.message=='пустое значение'){setWarning(true);}else if(error.message=='неверное значение'){setError(true);}}},[problemLocation]);const inputRadioCheck=e=>{setProblemLocation(e.value);};const isChecked=index=>{if(optionsOfWhereIsProblem.indexOf(problemLocation)===index){return true;}else{return false;}};const isCheckedUserInput=()=>{if(problemLocation===\"\"||optionsOfWhereIsProblem.includes(problemLocation)){return false;}else{return true;}};const setValue=()=>{if(optionsOfWhereIsProblem.includes(problemLocation)){return\"\";}else{return problemLocation;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"createTopic-phase\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"createTopic-phase-annotation\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"5/9\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0413\\u0434\\u0435 \\u043F\\u0440\\u043E\\u0431\\u043B\\u0435\\u043C\\u0430?\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"options-input\",onChange:e=>inputRadioCheck(e.target),children:[optionsOfWhereIsProblem.map((item,index)=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:item,name:\"check\",checked:isChecked(index)}),/*#__PURE__*/_jsx(\"p\",{children:item})]},index);}),/*#__PURE__*/_jsxs(\"div\",{className:\"option-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:localProblemLocation,name:\"check\",checked:isCheckedUserInput()}),/*#__PURE__*/_jsx(InputWithError,{placeholder:\"Ваш вариант\",value:setValue(),setValue:setLocalProblemLocation,error:error,setError:setError,errorText:'Не верное значение',warning:warning,setWarning:setWarning,warningText:'Заполните поле'})]})]})]});};export default ProblemLocationEnter;","map":{"version":3,"names":["useState","useEffect","topicController","InputWithError","jsx","_jsx","jsxs","_jsxs","optionsOfWhereIsProblem","getListofWhereIsProblem","ProblemLocationEnter","_ref","TOPIC","localProblemLocation","setLocalProblemLocation","problemLocation","setProblemLocation","error","setError","warning","setWarning","message","inputRadioCheck","e","value","isChecked","index","indexOf","isCheckedUserInput","includes","setValue","className","children","onChange","target","map","item","type","name","checked","placeholder","errorText","warningText"],"sources":["C:/Users/denis/VSCode_projects/Pochinim.ru/client/pochinim.ru/src/components/Pages/CreateTopic/phases/ProblemLocationEnter.js"],"sourcesContent":["import { useState, useEffect } from \"react\"\r\nimport topicController from '../../../../controllers/TOPIC-controller';\r\nimport InputWithError from '../../../../animations/input-error-field';\r\n\r\nconst optionsOfWhereIsProblem = await topicController.getListofWhereIsProblem();\r\n\r\nconst ProblemLocationEnter = ({TOPIC}) => {\r\n    const [localProblemLocation, setLocalProblemLocation] = useState(\"\");\r\n    const [problemLocation, setProblemLocation] = useState(TOPIC.problemLocation);\r\n    \r\n    const [error, setError] = useState(false);\r\n    const [warning, setWarning] = useState(false);\r\n\r\n    useEffect(()=>{\r\n        try {\r\n            TOPIC.problemLocation = problemLocation;\r\n        } catch (error) {\r\n            if(error.message == 'пустое значение'){\r\n                setWarning(true);\r\n            }else if(error.message == 'неверное значение'){\r\n                setError(true);\r\n            }\r\n        }\r\n        \r\n    },[problemLocation])\r\n\r\n    const inputRadioCheck = (e) => {\r\n        setProblemLocation(e.value);\r\n    }\r\n\r\n    const isChecked = (index) => {\r\n        if(optionsOfWhereIsProblem.indexOf(problemLocation) === index){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n    const isCheckedUserInput = () =>{\r\n        if(problemLocation === \"\" || optionsOfWhereIsProblem.includes(problemLocation)){\r\n            return false;\r\n        }else{\r\n             return true;\r\n        }\r\n    }\r\n\r\n    const setValue = () => {\r\n        if(optionsOfWhereIsProblem.includes(problemLocation)){\r\n            return \"\";\r\n        }else{\r\n            return problemLocation;\r\n        }\r\n    }\r\n    \r\n    return(<div className=\"createTopic-phase\">\r\n        <div className='createTopic-phase-annotation'>\r\n            <p>5/9</p>\r\n            <h1>Где проблема?</h1>\r\n        </div>\r\n        <div className=\"options-input\" onChange={e => inputRadioCheck(e.target)}>\r\n            {optionsOfWhereIsProblem.map((item, index) => {\r\n                return(\r\n                <div key={index} className=\"option\">\r\n                    <input type=\"radio\" value={item} name=\"check\" checked={isChecked(index)}></input>\r\n                    <p>{item}</p>\r\n                </div>);\r\n            })}\r\n            <div className=\"option-input\">\r\n                <input type=\"radio\" value={localProblemLocation} name=\"check\" checked={isCheckedUserInput()}></input>\r\n                <InputWithError placeholder={\"Ваш вариант\"} value={setValue()} setValue={setLocalProblemLocation} \r\n                    error={error} setError={setError} errorText={'Не верное значение'}\r\n                    warning={warning} setWarning={setWarning} warningText={'Заполните поле'}></InputWithError>\r\n            </div>\r\n        </div>\r\n    </div>)\r\n}\r\n\r\nexport default ProblemLocationEnter;"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,eAAe,KAAM,0CAA0C,CACtE,MAAO,CAAAC,cAAc,KAAM,0CAA0C,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtE,KAAM,CAAAC,uBAAuB,CAAG,KAAM,CAAAN,eAAe,CAACO,uBAAuB,CAAC,CAAC,CAE/E,KAAM,CAAAC,oBAAoB,CAAGC,IAAA,EAAa,IAAZ,CAACC,KAAK,CAAC,CAAAD,IAAA,CACjC,KAAM,CAACE,oBAAoB,CAAEC,uBAAuB,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACpE,KAAM,CAACe,eAAe,CAAEC,kBAAkB,CAAC,CAAGhB,QAAQ,CAACY,KAAK,CAACG,eAAe,CAAC,CAE7E,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CACzC,KAAM,CAACmB,OAAO,CAAEC,UAAU,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CAE7CC,SAAS,CAAC,IAAI,CACV,GAAI,CACAW,KAAK,CAACG,eAAe,CAAGA,eAAe,CAC3C,CAAE,MAAOE,KAAK,CAAE,CACZ,GAAGA,KAAK,CAACI,OAAO,EAAI,iBAAiB,CAAC,CAClCD,UAAU,CAAC,IAAI,CAAC,CACpB,CAAC,IAAK,IAAGH,KAAK,CAACI,OAAO,EAAI,mBAAmB,CAAC,CAC1CH,QAAQ,CAAC,IAAI,CAAC,CAClB,CACJ,CAEJ,CAAC,CAAC,CAACH,eAAe,CAAC,CAAC,CAEpB,KAAM,CAAAO,eAAe,CAAIC,CAAC,EAAK,CAC3BP,kBAAkB,CAACO,CAAC,CAACC,KAAK,CAAC,CAC/B,CAAC,CAED,KAAM,CAAAC,SAAS,CAAIC,KAAK,EAAK,CACzB,GAAGlB,uBAAuB,CAACmB,OAAO,CAACZ,eAAe,CAAC,GAAKW,KAAK,CAAC,CAC1D,MAAO,KAAI,CACf,CAAC,IAAI,CACD,MAAO,MAAK,CAChB,CACJ,CAAC,CAED,KAAM,CAAAE,kBAAkB,CAAGA,CAAA,GAAK,CAC5B,GAAGb,eAAe,GAAK,EAAE,EAAIP,uBAAuB,CAACqB,QAAQ,CAACd,eAAe,CAAC,CAAC,CAC3E,MAAO,MAAK,CAChB,CAAC,IAAI,CACA,MAAO,KAAI,CAChB,CACJ,CAAC,CAED,KAAM,CAAAe,QAAQ,CAAGA,CAAA,GAAM,CACnB,GAAGtB,uBAAuB,CAACqB,QAAQ,CAACd,eAAe,CAAC,CAAC,CACjD,MAAO,EAAE,CACb,CAAC,IAAI,CACD,MAAO,CAAAA,eAAe,CAC1B,CACJ,CAAC,CAED,mBAAOR,KAAA,QAAKwB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eACrCzB,KAAA,QAAKwB,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eACzC3B,IAAA,MAAA2B,QAAA,CAAG,KAAG,CAAG,CAAC,cACV3B,IAAA,OAAA2B,QAAA,CAAI,sEAAa,CAAI,CAAC,EACrB,CAAC,cACNzB,KAAA,QAAKwB,SAAS,CAAC,eAAe,CAACE,QAAQ,CAAEV,CAAC,EAAID,eAAe,CAACC,CAAC,CAACW,MAAM,CAAE,CAAAF,QAAA,EACnExB,uBAAuB,CAAC2B,GAAG,CAAC,CAACC,IAAI,CAAEV,KAAK,GAAK,CAC1C,mBACAnB,KAAA,QAAiBwB,SAAS,CAAC,QAAQ,CAAAC,QAAA,eAC/B3B,IAAA,UAAOgC,IAAI,CAAC,OAAO,CAACb,KAAK,CAAEY,IAAK,CAACE,IAAI,CAAC,OAAO,CAACC,OAAO,CAAEd,SAAS,CAACC,KAAK,CAAE,CAAQ,CAAC,cACjFrB,IAAA,MAAA2B,QAAA,CAAII,IAAI,CAAI,CAAC,GAFPV,KAGL,CAAC,CACV,CAAC,CAAC,cACFnB,KAAA,QAAKwB,SAAS,CAAC,cAAc,CAAAC,QAAA,eACzB3B,IAAA,UAAOgC,IAAI,CAAC,OAAO,CAACb,KAAK,CAAEX,oBAAqB,CAACyB,IAAI,CAAC,OAAO,CAACC,OAAO,CAAEX,kBAAkB,CAAC,CAAE,CAAQ,CAAC,cACrGvB,IAAA,CAACF,cAAc,EAACqC,WAAW,CAAE,aAAc,CAAChB,KAAK,CAAEM,QAAQ,CAAC,CAAE,CAACA,QAAQ,CAAEhB,uBAAwB,CAC7FG,KAAK,CAAEA,KAAM,CAACC,QAAQ,CAAEA,QAAS,CAACuB,SAAS,CAAE,oBAAqB,CAClEtB,OAAO,CAAEA,OAAQ,CAACC,UAAU,CAAEA,UAAW,CAACsB,WAAW,CAAE,gBAAiB,CAAiB,CAAC,EAC7F,CAAC,EACL,CAAC,EACL,CAAC,CACV,CAAC,CAED,cAAe,CAAAhC,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}