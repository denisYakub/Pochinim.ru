{"ast":null,"code":"class UserServices{async registrate(login,email,password){try{const body={\"login\":login,\"password\":password,\"email\":email};const data=await fetch(\"http://localhost:4000/api/registration\",{method:\"POST\",headers:{\"Accept\":\"application/json\",\"Content-Type\":\"application/json\"},credentials:'include',body:JSON.stringify(body)});const bot=await data.json();localStorage.setItem('token',bot.accessToken);localStorage.setItem('mail',email);return bot;}catch(error){console.log(\"Error in registration:\",error);}}async checkEmail(email){try{const body={\"email\":email};const data=await fetch(\"http://localhost:4000/api/checkEmail\",{method:\"POST\",headers:{\"Accept\":\"application/json\",\"Content-Type\":\"application/json\"},credentials:'include',body:JSON.stringify(body)});const bot=await data.json();return bot;}catch(error){console.log(\"Error in checkEmail:\",error);}}async sendCode(email){try{const body={\"email\":email};const data=await fetch(\"http://localhost:4000/api/sendActivateCode\",{method:\"POST\",headers:{\"Accept\":\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify(body)});const bot=await data.json();return bot;}catch(error){console.log(\"Error in sendCode:\",error);}}async logIn(email,password){try{const body={\"email\":email,\"password\":password};const data=await fetch(\"http://localhost:4000/api/logIn\",{method:\"POST\",headers:{\"Accept\":\"application/json\",\"Content-Type\":\"application/json\"},credentials:'include',body:JSON.stringify(body)});const bot=await data.json();localStorage.setItem('token',bot.accessToken);localStorage.setItem('mail',email);return bot;}catch(error){console.log(\"Error in logIn:\",error);}}async logOut(){try{const data=await fetch(\"http://localhost:4000/api/logOut\",{credentials:\"include\",method:\"POST\",headers:{\"Accept\":\"application/json\",\"Content-Type\":\"application/json\"}});const bot=await data.json();localStorage.removeItem('token');localStorage.removeItem('mail');return bot;}catch(error){console.log(\"Error in logOut:\",error);}}async checkAuth(){try{const data=await fetch(\"http://localhost:4000/api/refresh\",{credentials:\"include\",method:\"GET\",headers:{\"Accept\":\"application/json\",\"Content-Type\":\"application/json\"}});const bot=await data.json();localStorage.setItem('token',bot.accessToken);return bot;}catch(error){console.log(\"Error in checkAuth:\",error);}}};const userServices=new UserServices();export default userServices;","map":{"version":3,"names":["UserServices","registrate","login","email","password","body","data","fetch","method","headers","credentials","JSON","stringify","bot","json","localStorage","setItem","accessToken","error","console","log","checkEmail","sendCode","logIn","logOut","removeItem","checkAuth","userServices"],"sources":["C:/Users/denis/vs_code/Pochinim.ru/client/pochinim.ru/src/services/user-services.js"],"sourcesContent":["class UserServices{\r\n    async registrate(login, email, password){\r\n        try {\r\n            const body = {\"login\": login, \"password\": password, \"email\": email};\r\n            const data = await fetch(\"http://localhost:4000/api/registration\",{\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Accept\": \"application/json\",\r\n                    \"Content-Type\": \"application/json\"}, \r\n                credentials: 'include',\r\n                body: JSON.stringify(body)\r\n            })\r\n            const bot = await data.json();\r\n            localStorage.setItem('token', bot.accessToken);\r\n            localStorage.setItem('mail', email);\r\n\r\n            return bot;\r\n        } catch (error) {\r\n            console.log(\"Error in registration:\", error);\r\n        }\r\n    }\r\n    \r\n    async checkEmail(email){\r\n        try {\r\n            const body = {\"email\": email};\r\n\r\n            const data = await fetch(\"http://localhost:4000/api/checkEmail\",{\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Accept\": \"application/json\",\r\n                    \"Content-Type\": \"application/json\"},\r\n                credentials: 'include',\r\n                body: JSON.stringify(body)\r\n            })\r\n\r\n            const bot = await data.json();\r\n            return bot;\r\n\r\n        } catch (error) {\r\n            console.log(\"Error in checkEmail:\", error);\r\n        }\r\n    }\r\n\r\n    async sendCode(email){\r\n        try {\r\n            const body = {\"email\": email};\r\n\r\n            const data = await fetch(\"http://localhost:4000/api/sendActivateCode\", {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Accept\": \"application/json\",\r\n                    \"Content-Type\": \"application/json\"},\r\n                    body: JSON.stringify(body)\r\n            })\r\n\r\n            const bot = await data.json();\r\n            return bot;\r\n        } catch (error) {\r\n            console.log(\"Error in sendCode:\", error);\r\n        }\r\n    }\r\n\r\n    async logIn(email, password){\r\n        try {\r\n            const body = {\"email\": email, \"password\": password};\r\n            \r\n            const data = await fetch(\"http://localhost:4000/api/logIn\",{\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Accept\": \"application/json\",\r\n                    \"Content-Type\": \"application/json\"}, \r\n                credentials: 'include',\r\n                body: JSON.stringify(body)\r\n            })\r\n            const bot = await data.json();\r\n\r\n            localStorage.setItem('token', bot.accessToken)\r\n            localStorage.setItem('mail', email);\r\n\r\n            return bot;\r\n        } catch (error) {\r\n            console.log(\"Error in logIn:\", error);\r\n        }\r\n    }\r\n\r\n    async logOut(){\r\n        try {\r\n            const data = await fetch(\"http://localhost:4000/api/logOut\",{\r\n                credentials: \"include\",\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Accept\": \"application/json\",\r\n                    \"Content-Type\": \"application/json\"}, \r\n            })\r\n            const bot = await data.json();\r\n\r\n            localStorage.removeItem('token');\r\n            localStorage.removeItem('mail');\r\n\r\n            return bot;\r\n        } catch (error) {\r\n            console.log(\"Error in logOut:\", error);\r\n        }\r\n    }\r\n    \r\n    async checkAuth(){\r\n        try {\r\n            const data = await fetch(\"http://localhost:4000/api/refresh\",{\r\n                credentials: \"include\",\r\n                method: \"GET\",\r\n                headers: {\r\n                    \"Accept\": \"application/json\",\r\n                    \"Content-Type\": \"application/json\"}, \r\n            });\r\n            const bot = await data.json();\r\n\r\n            localStorage.setItem('token', bot.accessToken);\r\n\r\n            return bot;\r\n        } catch (error) {\r\n            console.log(\"Error in checkAuth:\", error);\r\n        }\r\n    }\r\n};\r\n\r\nconst userServices = new UserServices()\r\n\r\nexport default userServices;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}