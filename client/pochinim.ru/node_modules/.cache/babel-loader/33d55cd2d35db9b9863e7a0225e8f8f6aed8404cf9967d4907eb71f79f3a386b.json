{"ast":null,"code":"import _classPrivateFieldLooseBase from \"C:/Users/denis/VSCode_projects/Pochinim.ru/client/pochinim.ru/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js\";\nimport _classPrivateFieldLooseKey from \"C:/Users/denis/VSCode_projects/Pochinim.ru/client/pochinim.ru/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js\";\nimport chatController from \"../controllers/Chat-controller\";\nvar _id_companion = /*#__PURE__*/_classPrivateFieldLooseKey(\"id_companion\");\nvar _id_chat = /*#__PURE__*/_classPrivateFieldLooseKey(\"id_chat\");\nvar _chats = /*#__PURE__*/_classPrivateFieldLooseKey(\"chats\");\nvar _messages = /*#__PURE__*/_classPrivateFieldLooseKey(\"messages\");\nvar _id_topic = /*#__PURE__*/_classPrivateFieldLooseKey(\"id_topic\");\nclass Chat {\n  constructor() {\n    Object.defineProperty(this, _id_companion, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _id_chat, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _chats, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _messages, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _id_topic, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldLooseBase(this, _id_companion)[_id_companion] = null;\n    _classPrivateFieldLooseBase(this, _chats)[_chats] = [];\n    _classPrivateFieldLooseBase(this, _id_chat)[_id_chat] = null;\n    _classPrivateFieldLooseBase(this, _messages)[_messages] = [];\n    _classPrivateFieldLooseBase(this, _id_topic)[_id_topic] = null;\n  }\n  async setChatIDByIdTopic(id_topic) {\n    if (id_topic != null && _classPrivateFieldLooseBase(this, _id_companion)[_id_companion] != null) {\n      _classPrivateFieldLooseBase(this, _id_chat)[_id_chat] = await chatController.getChatID(localStorage.getItem('mail'), _classPrivateFieldLooseBase(this, _id_companion)[_id_companion], id_topic);\n    }\n  }\n  async downloadChatsOfTopic(id_topic) {\n    _classPrivateFieldLooseBase(this, _chats)[_chats] = await chatController.getChatsUserByIdTopic(id_topic);\n  }\n  async downloadMessagesOfChat() {\n    if (_classPrivateFieldLooseBase(this, _id_chat)[_id_chat] != null) _classPrivateFieldLooseBase(this, _messages)[_messages] = await chatController.getMessages(_classPrivateFieldLooseBase(this, _id_chat)[_id_chat]);\n  }\n  async sendMessage(text) {\n    if (text != '' && _classPrivateFieldLooseBase(this, _id_chat)[_id_chat] != null) {\n      await chatController.sendMessage(text, _classPrivateFieldLooseBase(this, _id_chat)[_id_chat]);\n    }\n  }\n  get idCompanion() {\n    return _classPrivateFieldLooseBase(this, _id_companion)[_id_companion];\n  }\n  set idCompanion(new_id_companion) {\n    if (new_id_companion != null) {\n      _classPrivateFieldLooseBase(this, _id_companion)[_id_companion] = new_id_companion;\n    }\n  }\n  get chats() {\n    return _classPrivateFieldLooseBase(this, _chats)[_chats];\n  }\n  get idChat() {\n    return _classPrivateFieldLooseBase(this, _id_chat)[_id_chat];\n  }\n  set idChat(new_id_chat) {\n    if (new_id_chat != null) {\n      _classPrivateFieldLooseBase(this, _id_chat)[_id_chat] = new_id_chat;\n    }\n  }\n  get messages() {\n    return _classPrivateFieldLooseBase(this, _messages)[_messages];\n  }\n  get idTopic() {\n    return _classPrivateFieldLooseBase(this, _id_topic)[_id_topic];\n  }\n  set idTopic(new_id_topic) {\n    if (new_id_topic != null) {\n      _classPrivateFieldLooseBase(this, _id_topic)[_id_topic] = new_id_topic;\n    }\n  }\n}\nconst chat = new Chat();\nexport default chat;","map":{"version":3,"names":["chatController","_id_companion","_classPrivateFieldLooseKey","_id_chat","_chats","_messages","_id_topic","Chat","constructor","Object","defineProperty","writable","value","_classPrivateFieldLooseBase","setChatIDByIdTopic","id_topic","getChatID","localStorage","getItem","downloadChatsOfTopic","getChatsUserByIdTopic","downloadMessagesOfChat","getMessages","sendMessage","text","idCompanion","new_id_companion","chats","idChat","new_id_chat","messages","idTopic","new_id_topic","chat"],"sources":["C:/Users/denis/VSCode_projects/Pochinim.ru/client/pochinim.ru/src/Classes/Chats-class.js"],"sourcesContent":["import chatController from \"../controllers/Chat-controller\";\r\n\r\nclass Chat{\r\n    #id_companion\r\n    #id_chat\r\n    #chats\r\n    #messages\r\n    #id_topic\r\n    constructor(){\r\n        this.#id_companion = null;\r\n        this.#chats = [];\r\n        this.#id_chat = null;\r\n        this.#messages = [];\r\n        this.#id_topic = null;\r\n    }\r\n\r\n    async setChatIDByIdTopic(id_topic){\r\n        if( id_topic != null && this.#id_companion != null){\r\n            this.#id_chat = await chatController.getChatID(localStorage.getItem('mail'), this.#id_companion, id_topic);\r\n        }\r\n    }\r\n\r\n    async downloadChatsOfTopic(id_topic){\r\n        this.#chats = await chatController.getChatsUserByIdTopic(id_topic);\r\n    }\r\n\r\n    async downloadMessagesOfChat(){\r\n        if(this.#id_chat != null)\r\n            this.#messages = await chatController.getMessages(this.#id_chat);\r\n    }\r\n\r\n    async sendMessage(text){\r\n        if(text != '' && this.#id_chat != null){\r\n            await chatController.sendMessage(text, this.#id_chat);\r\n        }\r\n    } \r\n\r\n    get idCompanion(){\r\n        return this.#id_companion;\r\n    }\r\n    set idCompanion(new_id_companion){\r\n        if(new_id_companion != null){\r\n            this.#id_companion = new_id_companion;\r\n        }\r\n    }\r\n    get chats(){\r\n        return this.#chats;\r\n    }\r\n    get idChat(){\r\n        return this.#id_chat;\r\n    }\r\n    set idChat(new_id_chat){\r\n        if(new_id_chat != null){\r\n            this.#id_chat = new_id_chat;\r\n        }\r\n    }\r\n    get messages(){\r\n        return this.#messages;\r\n    }\r\n    get idTopic(){\r\n        return this.#id_topic;\r\n    }\r\n    set idTopic(new_id_topic){\r\n        if(new_id_topic != null){\r\n            this.#id_topic = new_id_topic;\r\n        }\r\n    }\r\n}\r\n\r\nconst chat = new Chat();\r\n\r\nexport default chat;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}