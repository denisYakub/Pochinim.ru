{"version":3,"names":["g","global","Md5Module","NativeModules","QuickMd5","install","stringToArrayBuffer","str","buf","ArrayBuffer","length","bufView","Uint8Array","i","strLen","charCodeAt","stringMd5","data","md5FromArrayBuffer","spark","SparkMD5","append","end","binaryMd5"],"sources":["index.tsx"],"sourcesContent":["import { NativeModules } from 'react-native'\nimport SparkMD5 from 'spark-md5'\n\nconst g = global as any\n\nconst Md5Module = NativeModules.QuickMd5\n\nif (Md5Module && typeof Md5Module.install === 'function') {\n  Md5Module.install()\n}\n\nfunction stringToArrayBuffer(str: string) {\n  const buf = new ArrayBuffer(str.length)\n  const bufView = new Uint8Array(buf)\n  for (let i = 0, strLen = str.length; i < strLen; i++) {\n    bufView[i] = str.charCodeAt(i)\n  }\n  return buf\n}\n\nexport function stringMd5(data: string): string {\n  if (typeof g.md5FromArrayBuffer !== 'undefined') {\n    return g.md5FromArrayBuffer(data)\n  } else {\n    const spark = new SparkMD5()\n    spark.append(data)\n    return spark.end()\n  }\n}\n\nexport function binaryMd5(data: string | ArrayBuffer): string {\n  data = typeof data === 'string' ? stringToArrayBuffer(data) : data\n\n  if (typeof g.md5FromArrayBuffer !== 'undefined') {\n    return g.md5FromArrayBuffer(data)\n  } else {\n    const spark = new SparkMD5.ArrayBuffer()\n    spark.append(data)\n    return spark.end()\n  }\n}\n"],"mappings":";;;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,CAAC,GAAGC,MAAV;AAEA,MAAMC,SAAS,GAAGC,0BAAA,CAAcC,QAAhC;;AAEA,IAAIF,SAAS,IAAI,OAAOA,SAAS,CAACG,OAAjB,KAA6B,UAA9C,EAA0D;EACxDH,SAAS,CAACG,OAAV;AACD;;AAED,SAASC,mBAAT,CAA6BC,GAA7B,EAA0C;EACxC,MAAMC,GAAG,GAAG,IAAIC,WAAJ,CAAgBF,GAAG,CAACG,MAApB,CAAZ;EACA,MAAMC,OAAO,GAAG,IAAIC,UAAJ,CAAeJ,GAAf,CAAhB;;EACA,KAAK,IAAIK,CAAC,GAAG,CAAR,EAAWC,MAAM,GAAGP,GAAG,CAACG,MAA7B,EAAqCG,CAAC,GAAGC,MAAzC,EAAiDD,CAAC,EAAlD,EAAsD;IACpDF,OAAO,CAACE,CAAD,CAAP,GAAaN,GAAG,CAACQ,UAAJ,CAAeF,CAAf,CAAb;EACD;;EACD,OAAOL,GAAP;AACD;;AAEM,SAASQ,SAAT,CAAmBC,IAAnB,EAAyC;EAC9C,IAAI,OAAOjB,CAAC,CAACkB,kBAAT,KAAgC,WAApC,EAAiD;IAC/C,OAAOlB,CAAC,CAACkB,kBAAF,CAAqBD,IAArB,CAAP;EACD,CAFD,MAEO;IACL,MAAME,KAAK,GAAG,IAAIC,gBAAJ,EAAd;IACAD,KAAK,CAACE,MAAN,CAAaJ,IAAb;IACA,OAAOE,KAAK,CAACG,GAAN,EAAP;EACD;AACF;;AAEM,SAASC,SAAT,CAAmBN,IAAnB,EAAuD;EAC5DA,IAAI,GAAG,OAAOA,IAAP,KAAgB,QAAhB,GAA2BX,mBAAmB,CAACW,IAAD,CAA9C,GAAuDA,IAA9D;;EAEA,IAAI,OAAOjB,CAAC,CAACkB,kBAAT,KAAgC,WAApC,EAAiD;IAC/C,OAAOlB,CAAC,CAACkB,kBAAF,CAAqBD,IAArB,CAAP;EACD,CAFD,MAEO;IACL,MAAME,KAAK,GAAG,IAAIC,gBAAA,CAASX,WAAb,EAAd;IACAU,KAAK,CAACE,MAAN,CAAaJ,IAAb;IACA,OAAOE,KAAK,CAACG,GAAN,EAAP;EACD;AACF"}